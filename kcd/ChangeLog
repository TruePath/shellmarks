2009-02-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makepkg, scripts/makepkg-release: Set LANG to en_US.UTF-8.

2009-02-16  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc, khdoc.cc, : Update copyright year.
	* miscobj.cc (k_waddch_int): Display bad UTF-8 string.
	* strmisc.cc (GetStringWidth): Likewise.

2009-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* miscobj.cc: Use NCURSESAC_NEW_INCLUDE and NCURSESAC_WIDE to
	determine term.h location.

	* pkgsrc/NEWS.src: Update.

2009-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Don't output to screen during sysconfdir computation.
	* configure: Regenerated.

2009-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac (NCURSESAC_INCLUDE): New define.
	* acinclude.m4/ncurses.m4: Use $kNCURSES_HEADER instead of curses.h.
	* config.h.in, configure: Regenerated.

2009-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Remove quote around ncurses/curses.h and
	ncursesw/curses.h check.
	* configure: Regenerated.

2009-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac (NCURSES_WIDE): Rename to ...
	(NCURSESAC_WIDE): ... this.
	(NCURSES_NEW_INCLUDE): Rename to ...
	(NCURSESAC_NEW_INCLUDE): ... this.
	* setupcurses.h: Check NCURSESAC_WIDE, NCURSESAC_NEW_INCLUDE.
	* config.h.in, configure: Regenerated.

2009-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac (NCURSES_WIDE, NCURSES_NEW_INCLUDE): New define.
	Add check for ncurses/curses.h and ncursesw/curses.h.
	* config.h.in, configure: Regenerated.

2009-02-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (PrintBanner): Update copyright year.

2009-02-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2009-02-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure: Regenerated.

2009-01-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac, confobj.h, cstrlib.cc, cstrlib.h, gentree.cc,
	khwin.cc, miscobj.cc, statwin.cc, strmisc.cc, strmisc.h,
	scripts/commit: Update copyright year.
	* configure: Regenerated.

2009-01-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* statwin.cc (khStatusWindowWithFind::ProcessKey): Avoid parenthesis
	warning.

	* strmisc.cc: Include CXX__HEADER_cstdlib.
	(k_wstring::operator=): Use const char *.
	* strmisc.h (k_wstring::operator=): Likewise.

2009-01-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Also check /lib for static ncurses search.
	* configure: Regenerated.

	* confobj.h: Include CXX__HEADER_climits.
	* cstrlib.cc, cstrlib.h (k_fopen): Use const char *.

	* gentree.cc (FindMatchDir): Avoid parenthesis warning.
	* khwin.cc (khScreenManager::ReadKeyboard, HyperWindow::ProcessKey):
	Likewise.
	* miscobj.cc: Include CXX__HEADER_cstdlib.

	* scripts/commit: Avoid problem with new bash due to &>.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* seek.h: Include <cstddef>.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxac.m4 (CXXAC_HAVE_EXPLICIT, CXXAC_HAVE_MUTABLE): Remove.
	(CXXAC_TEST_ALL): Adjust.
	* configure.ac: Remove CXXAC_HAVE_EXPLICIT, CXXAC_HAVE_MUTABLE.
	* config.h.in, configure: Regenerated.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Remove CXXAC_HAVE_ARRAY_NEW.
	* configure: Regenerated.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Remove CXXAC_BAD_ALLOC, CXXAC_BAD_NEW, CXXAC_BAD_DELETE.
	* configure: Regenerated.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 7.15.0.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makepkg-real: Remove cxxlib.cc.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* config.h.in, configure: Regenerated.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.cc (Buffer::Expand): Replace BAD_ALLOC with bad_alloc.
	* kcdmain.cc (main): Likewise.
	* khdoc.cc (HyperDocument::ReadFile): Likewise.
	* khwin.cc (HyperWindow::Init): Likewise.
	* scroll.cc (HScrollBar::Init, VScrollBar::Init, khScrollBox::Init):
	Likewise.
	* statwin.cc (khStatusWindow::Init, khURLWindow::Init,
	khMarkerBar::Init): Likewise.
	* acinclude.m4/cxxac.m4 (CXXAC_BAD_FOR, CXXAC_WANT_BAD_FOR, 
	CXXAC_BAD_ALLOC): Remove.
	(CXXAC_TEST_ALL): Adjust.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.h (dump_core): Remove declaration.
	* scandir.cc: Update copyright year.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.cc: Remove.
	* scandir.cc (AssertDirFlag): Throw exception instead of calling
	dump_core.
	* ad.rule (kcdmain): Remove cxxlib.cc.
	* Makefile.in: Regenerated.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4 (CXXAC_HAVE_ARRAY_NEW, 
	CXXAC_HAVE_PLACEMENT_NEW, CXXAC_BAD_NEW, CXXAC_BAD_DELETE): Remove.
	(CXXAC_TEST_ALL): Adjust.
	* config.h.in, configure: Regenerated.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Remove --enable-debug-memory option.
	* config.h.in, configure: Regenerated.
	* cxxlib.cc: Remove memory debugging and new/delete override.
	(operator new(size_t), operator delete(void *),
	operator new[](size_t), operator delete[](void *),
	kcd_new_handler, malloc, calloc, realloc, org_malloc,
	org_calloc, org_realloc, cxxlib): Remove.
	* cxxlib.h: 	(operator new(size_t), operator delete(void *),
	operator new[](size_t), operator delete[](void *), cxxlib): Remove.
	* pkgsrc/NEWS.src: Update.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Remove --enable-debug-memory documentation.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.cc (check_size): Remove.
	(Buffer::Buffer, Buffer::operator[]): Remove memory debugging support.

2007-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (PrintBanner): Update copyright year.
	(main): Don't override default new and delete.

2007-10-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* NEWS: Update.

2007-10-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc, miscobj.cc, strmisc.cc: Fix __USE_XOPEN define warning.

2007-10-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* utf8dec.h: Fix __USE_XOPEN define warning.

2007-10-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.prepend, po/Makefile.in.in: Fix autoconf datarootdir warning.
	* Makefile.in: Regenerate.

2007-10-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Use AC_CHECK_FILE instead of AC_CHECK_PROG when
	looking for header, library files.
	Don't use CXXAC_NEW_THROW_BAD_ALLOC.
	Fix compilation warnings in d_type tests.
	* acinclude.m4/cxxac.m4 (CXXAC_SIZE_BOOL): Include <stdlib.h>
	to remove waring.
	(CXXAC_BAD_NEW): Don't rely on CXXAC_NEW_THROW_BAD_ALLOC test.
	Remove warning in test.
	(CXXAC_NEW_THROW_BAD_ALLOC): Remove. No longer work.
	* acinclude.m4/ncurses.m4 (NCURSESAC_BOOL): Include <stdlib.h> to
	remove warning.
	(NCURSESAC_NEW_ATTR): Remove warning. Add more comment.
	* aclocal.m4, config.h.in, configure: Regenerated.
	* scripts/version: Bump version number to 7.13.1.

2007-10-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Remove obsoleted information.

2007-10-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc, miscobj.h, statwin.cc, statwin.h: Update copyright
	year.

2007-10-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (KeyBindingMap, ShowNewDirMap, AttrColorMap): Use
	const char *.
	* miscobj.h (Anchor::Anchor): Change constructor signatures to
	use const char *.
	* statwin.cc (khStatusWindowWithFind::statFind1, 
	khStatusWindowWithFind::statFind2,
	khStatusWindowWithFind::statFindOvr,
	khStatusWindowWithFind::statFindIns): Use const char *.
	* statwin.h (khStatusWindowWithFind::statFind1, 
	khStatusWindowWithFind::statFind2,
	khStatusWindowWithFind::statFindOvr,
	khStatusWindowWithFind::statFindIns): Adjust declaration.

	* acinclude.m4/cxxac.m4 (CXXAC_BAD_ALLOC): Fix typo.

2007-06-16  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.h, scrnman.h, scandir.h, scripts/uploadfile: Update copyright
	year.

2007-06-16  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/uploadfile: Use rpmbuild. Don't upload to metalab.

2007-06-16  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/uploadfile (RPM_ROOT_DIR): Use /usr/src/rpmbuild.

2007-06-16  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Mention GCC 4.1 patch.
	* scripts/version: Use version 7.13.0 instead of 8.0.0 for now.

2007-06-16  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	Patch from Andreas Bernauer (Allow kcd compile with gcc 4.1 and
	rpm 4.4):
	* khwin.h (SomethingWithFind::~SomethingWithFind): New virtual
	destructor.
	* scandir.h (ScanLog::~ScanLog): Likewise.
	* scrnman.h (NCGeometryManagerBase::~NCGeometryManagerBase): Likewise.

2006-03-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Example for ShowNewDir.

2005-12-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* RPM: Use rpmbuild.

2005-12-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src, pkgsrc/kcd.1.src: Document `ShowNewDir'.

2005-12-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ConfigValue): Fix name.
	(ShowNewDirMap, NUM_SHOW_NEW_DIR, showNewDirMap): New.
	(SetShowNewDir, ConfigShowNewDir, PrintShowNewDir): New functions.
	(cfgFuncShowNewDir): New variable.
	(NUM_CONFIG_INFO): Adjust.
	(configInfo): Add ShowNewDir.
	* gentree.cc (DirListCD): Support ShowNewDir.
	* pkgsrc/NEWS.src: Document ShowNewDir.

2005-12-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ConfigValue): Add cfgShowNewDir.
	(configInfo): Adjust.
	* confobj.h (ShowNewDirType): New enum.
	(KcdConfig): Add cfgShowNewDir.
	* confobj.cc (KcdConfig::KcdConfig(), KcdConfig::operator=): Adjust.

	* scandir.cc (MountDirScanDir): Change display message.

2005-12-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (MountDirScanDir): Display MountDir scanning message.

2005-12-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Remove old software requirements.

2005-12-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ConfigMountDirList): Fix compilation error.
	* scripts/version: Bump version number to 8.0.0.

2005-12-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src: Remove old software requirements.

2005-10-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ConfigMountDirList, PrintMountDirList): Rename
	AllScan to All, TreeScan to Tree, mountActionAllScan to
	mountActionAll, mountActionTreeScan to mountActionTree.
	* confobj.h (MountActionType): Likewise.
	* gentree.cc (ProcessMountDir): Likewise.
	* pkgsrc/NEWS.src: Likewise.
	* pkgsrc/README.src: Likewise.
	* pkgsrc/kcd.1.src: Likewise.

2005-10-16  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* scrnman.h (NCWindowBase): Declare before NCScreenManager.
	* pkgsrc/NEWS.src: Update.

2005-06-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.cc (Buffer::Putsn): Remove due to potential security
	problem	(strncpy).
	* buffer.h (Buffer::Putsn): Remove.

2005-06-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2005-06-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.h (ScanLog::PrintStartDirNotDirectory): New member.
	(CommandLineScanLog::PrintStartDirNotFound): Remove.
	(ScanCommandScanLog, TreeCommandScanLog, MountCommandScanLog):
	New classes.
	* scandir.cc (ScanCommandScanLog::PrintStartDirNotDirectory,
	ScanCommandScanLog::PrintStartDirNotFound): Rename from ...
	(CommandLineScanLog::PrintStartDirNotDirectory,
	CommandLineScanLog::PrintStartDirNotFound): ... these.
	(TreeCommandScanLog::PrintStartDirNotDirectory,
	TreeCommandScanLog::PrintStartDirNotFound,
	MountCommandScanLog::PrintStartDirNotDirectory,
	MountCommandScanLog::PrintStartDirNotFound): New.
	(FullScanFromDir): Check existence of directory.
	(SmartScanDir, FullScanDir, PartialScanDir, ScanDirAndDisplay,
	MountDirScanDir): Adjust.

2005-06-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (AddBookmarks, RemoveBookmarks): Use
	RelativeToAbsolutePath.

2005-06-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirutil.cc (RelativeToAbsolutePath): New function.
	* dirutil.h (RelativeToAbsolutePath): Declare.
	* gentree.cc (AddDisplayTree, DisplayTree): Use it.
	* scandir.cc (SmartScanDir): Add comment.

2005-05-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* pkgsrc/NEWS.src: Update.

2005-05-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* gentree.cc (ProcessMountDir): Optimize for -t, -tr use.
	(DisplayTree): Support relative path for root.  Process
	MountDir later.
	(DisplayFullTree): Process MountDir later.
	(CD): Adjust ProcessMountDir call.

2005-05-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (ProcessMountDir): Change parameter type to bool.
	(DisplayTree, DisplayFullTree, CD): Adjust.

2005-05-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (ProcessMountDir): Move earlier.
	* gentree.h (ProcessMountDir): Remove declaration.

2005-05-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2005-05-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Document -M option.

2005-05-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src, pkgsrc/kcd.1.src: Document -M.

2005-05-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DisplayTree, DisplayFullTree): Add use_mount_dir
	parameter.
	* gentree.h (DisplayTree, DisplayFullTree): Adjust.
	* kcdmain.cc (mainReal): Adjust.

2005-05-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Add use_mount_dir parameter.
	* gentree.h (CD): Adjust.
	(ProcessMountDir): Declare.
	* kcdmain.cc (Help): Add -M.
	(mainReal): Adjust.

2005-05-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirutil.cc (ExpandDirectory): Disable '..' processing.
	* gentree.cc (ProcessMountDir): Add comment.
	* pkgsrc/NEWS.src: Document '..' disabling.
	* pkgsrc/README.src, pkgsrc/kcd.1.src: Document that MountDir
	should not overlap.

2005-05-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (ProcessMountDir): Allow modification to tree.

2005-04-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirutil.cc (ExpandDirectory): Add FIXME.

	* gtstream.h, gtstream.cc: Fix comment.

2005-01-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2005-01-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2005-01-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2005-01-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* conffile.cc (ConfigMountDirList): Resolve symlink.

2005-01-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ConfigStringList): Resolve symlink for SkipDir.
	* dirutil.cc: Don't include <dirent.h>, <sys/stat.h>.
	(ResolveSymlink): Handle symlink anywhere in the path and
	symlink to symlink.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* dirutil.cc: Include <dirent.h>, <sys/stat.h>.
	(ResolveSymlink): New function.
	* dirutil.h (ResolveSymlink): Declare.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 7.13.0.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src, pkgsrc/README.src, pkgsrc/kcd.1.src: Update.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ConfigMountDirList): Comment out FileList order.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.h (DirectoryEntry): Update comment.
	* gentree.cc (HyperTreeDraw::RecursiveGenerateHTML): Support
	MountDir.
	(RecursiveFindDir): Remove FIXME.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (SetMountDirList, ConfigMountDirList,
	PrintMountDirList): Remove glob and regex support.
	* gentree.cc (ProcessMountDir): Implement.
	* scandir.cc (MountDirScanDir): New function.
	* scandir.h (MountDirScanDir): Declare.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc: Update copyright year.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.cc (TemplateFindDirList): New function.
	(FindSkipDir, FindStartDir, FindMountDir): Use it.
	(FindStartDir): Use the right list.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.cc (FindMountDir): Change return type to bool.
	* confobj.h (FindMountDir): Adjust declaration.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintMountDirList): Print order.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (SetMountDirList): Add const MountActionType &
	parameter.
	(ConfigMountDirList): Process MountDir order.
	* confobj.h: Include <vector>.
	(MountActionType::mountActionFilelist): Rename to ...
	(MountActionType::mountActionFileList): ... this.
	(MountActionOrderType): New typedef.
	(MountDirConfig::mountAction): Change type to MountActionOrderType.
	(MountDirConfig::MountDirConfig): Adjust.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (NUM_CONFIG_INFO): Update.
	(configInfo): Add MountDir, ClearMountDir.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (IsPatternMatch::operator()(MountDirItem &),
	IsRegPatternMatch::operator()(MountDirItem &)): New members.
	(SetMountDirList, ConfigMountDirList, PrintMountDirList,
	SetClearMountDirList, ConfigClearMountDirList): New functions.
	(cfgFuncMountDirList, cfgFuncClearMountDirList): New variables.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ConfigValue::cfgMountDirListPtr): New field.
	(configInfo): Update.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (html_mount_skipped, html_mount_skipped_width):
	Remove.
	(html_mount_no_filelist, html_mount_no_filelist_width): Rename
	to ...
	(html_no_filelist, html_no_filelist_width): ... these.
	(GenerateHTMLStrings): Update.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirtree.cc (uniqueTag): Restore.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.cc (DirectoryEntry::DirectoryEntry(gzFile, char),
	(DirectoryEntry::UpdateEntry, DirectoryEntry::Init,
	DirectoryEntry::gzWrite): Remove isMount.
	* dirobj.h (DirectoryEntry::isMount): Remove.
	* scandir.cc (RecursiveFullScanDir, RecursiveSmartScanDir):
	Simplify.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (GenerateHTMLStrings): Fix compilation error.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (html_mount_skipped, html_mount_no_filelist,
	html_mount_skipped_width, html_mount_no_filelist_width): New
	variables.
	(GenerateHTMLStrings): Adjust.
	(HyperTreeDraw::RecursiveGenerateHTML): Add FIXME.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.cc (DirectoryEntry::DirectoryEntry(gzFile, char),
	(DirectoryEntry::UpdateEntry, DirectoryEntry::Init,
	DirectoryEntry::gzWrite): Handle isMount.
	* dirtree.cc (uniqueTag): Bump version number.

2005-01-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.h (DirectoryEntry::isMount): New field.
	* gentree.cc (RecursiveFindDir): Add FIXME.
	* scandir.cc (RecursiveFullScanDir, RecursiveSmartScanDir): Handle
	isMount.

2005-01-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.cc (FindMountDir): New function.
	* confobj.h (FindMountDir): Declare.

2005-01-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.h (MountDirList, MountDirItem): New typedef.
	(KcdConfig::cfgMountDir): New field.
	* confobj.cc (KcdConfig::KcdConfig(),
	KcdConfig::KcdConfig(const KcdConfig &), KcdConfig::operator=,
	KcdConfig::~KcdConfig): Handle cfgMountDir.

2005-01-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.h (MountActionType): New enum.
	(DirConfig::operator==, DirConfig::operator!=): Make functions
	virtual.
	(DirConfig::~DirConfig): New destructor.
	(MountDirConfig): New class.

2005-01-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2005-01-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (Profiles): Change output indentation to match Help.

2005-01-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2005-01-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Check for invalid * argument of -p option.

	* pkgsrc/NEWS.src: Update.
	* pkgsrc/README.src: Update.
	* pkgsrc/kcd.1.src: Update.

2004-12-31  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (PrintBanner): Update copyright year.
	(Help): Add --profiles.
	(Profiles): New function.
	(mainReal): Handle --profiles.

	* TODO: Update.

	* pkgsrc/README.src: Update copyright year.
	* pkgsrc/kcd.1.src: Update copyright year.

2004-12-31  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.
	* pkgsrc/NEWS.src: Update.

2004-12-31  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.cc (MatchStr): New function.
	* strmisc.h (MatchStr): Declare.
	* khwin.cc (khHyperWindowWithFind::FindText,
	khHyperWindowWithFind::FindNext,
	khHyperWindowWithFind::FindPrev): Support / and //.
	* gentree.cc (GetBookmarks): Use MatchStr.

2004-12-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (MatchPathRegex, MakePathRegex, MakeString): Move
	to ...
	* strmisc.cc (MatchPathRegex, MakePathRegex, MakeString): ... here.
	* strmisc.h: Include <regex.h>, <sys/types.h>.
	(MatchPathRegex, MakePathRegex, MakeString): Declare.
	* gentree.cc (CheckCDString): Check the presence of regex.
	* pkgsrc/NEWS.src: Update.

2004-12-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src, pkgsrc/kcd.1.src: Document / and //.

	* scripts/version: Bump version number to 7.11.0.

2004-12-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* pkgsrc/NEWS.src: Update.

2004-12-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (MatchPathString): Rename to ...
	(MatchPathRegex): ... this.
	(RecursiveFindMatchDir, CD): Adjust.
	(MakePathRegex, MakeString): New functions.
	(CD, ShowBookmarks): Use them.
	(CheckCDString): Reject "///".
	(DirListCD): Don't call CheckCDString.  Adjust error message.

2004-12-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (MatchPathString): Use regular expression.
	Implement.
	(FuzzyRecursiveFindMatchDir, FuzzyFindMatchDir,
	RecursiveFindMatchDir, FindMatchDir, GetBookmarks, CD,
	ShowBookmarks): Adjust.

2004-12-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (MatchPathString): Check if path_str is empty here ...
	(RecursiveFindMatchDir): ... not here.
	(GetBookmarks): Add path_str parameter.
	(CD, ShowBookmarks): Adjust.

2004-12-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (MatchPathString): New function.
	(RecursiveFindMatchDir): Use it
	(FuzzyRecursiveFindMatchDir): Fix formatting.
	(RecursiveFindBookmarkedDir, FindBookmarkedDir): Remove.

2004-12-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* gentree.cc (FuzzyRecursiveFindMatchDir, FuzzyFindMatchDir,
	RecursiveFindMatchDir, FindMatchDir): Add path_str parameter.
	(CheckCDString): New function.
	(DirListCD, CD): Use it.  Adjust FindMatchDir call.

2004-12-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2004-12-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* statwin.cc (khURLWindowWithFind::khURLWindowWithFind): Correct
	vi binding.

2004-12-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.
	* pkgsrc/NEWS.src.

	* editbox.cc (ProcessKey): Add vi key binding ^U.
	* khwin.cc (khHyperWindowWithFind::ProcessKey): Start find mode
	for A-Z, a-z, 0-9.
	* statwin.cc (khURLWindowWithFind::khURLWindowWithFind): Update
	status bar.

2004-12-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* editbox.cc: Include "confobj.h".
	(ProcessKey): Support emacs key binding.

2004-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 7.9.0.

2004-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src, pkgsrc/kcd.1.src: Document unit of
	MouseScrollRate.

2004-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2004-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scrnman.cc (NCScreenManager::KeyboardLoop): Allow scroll rate
	to be disabled.

	* pkgsrc/NEWS.src, pkgsrc/README.src, pkgsrc/kcd.1.src: Update.

2004-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scrnman.cc: Remove debugging code.

2004-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (configInfo): Add MouseScrollRate.
	(NUM_CONFIG_INFO, LoadAllConfig): Adjust.
	* confobj.cc (KcdConfig::KcdConfig, KcdConfig.operator=): Likewise.
	* confobj.h (KcdConfig): Add cfgMouseScrollRate.
	* scrnman.h (NCScreenManager): Add mouseScrollRate,
	SetMouseScrollRate.
	* scrnman.cc (NCScreenManager::mouseScrollRate): Define.
	(KeyboardLoop): Enable timeout.

2004-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (ImportBookmarks): Add FIXME.

2004-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* buffer.h: Update copyright year.

2004-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.h (BUF_INC): Change to const size_t.

2004-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.h (BUF_INC): Change to const int.

2004-12-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src, pkgsrc/kcd.1.src: Improve CaseSensitiveSort
	explanation.

2004-10-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2004-10-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scrnman.cc (NCScreenManager::KeyboardLoop): Disable timeout.
	* pkgsrc/NEWS.src: Update.

2004-10-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scrnman.cc (NCScreenManager::KeyboardLoop): Add timeout.
	* scroll.cc (khHScrollBar::ProcessMouse, khVScrollBar::ProcessMouse):
	Check button pressed instead of released.  Convert double and triple
	clicks to separate single clicks.
	* statwin.cc (khURLWindow::ProcessMouse): Check button pressed
	instead of released.  Convert double and triple clicks to separate
	single clicks.

2004-06-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2004-06-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2004-06-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2004-06-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src, pkgsrc/kcd.1.src: Update.

2004-06-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintStringList): Display regex flag.
	* pkgsrc/README.src: Update.

2004-06-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO, pkgsrc/NEWS.src, pkgsrc/README.src: Update.
	* confobj.cc (k_regcomp): New function.
	* confobj.h (k_regcomp): Declare.
	(DirConfig::DirConfig): Use k_regcomp.
	* conffile.cc (IsRegPatternMatch::IsRegPatternMatch): Use k_regcomp.
	* strmisc.cc (charNeedRegexQuote): New variable.
	(QuoteRegexChars): New function.
	* strmisc.h (QuoteRegexChars): Declare.
	* dirutil.cc (ExpandDirectory): Use QuoteRegexChars.

2004-06-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.cc (UnquoteConfigChars): New function.
	* strmisc.h (UnquoteConfigChars): Declare.
	* dirutil.cc (ExpandDirectory): Add regex parameter.  Use
	UnquoteConfigChars.
	* dirutil.h (ExpandDirectory): Adjust.
	* conffile.cc (ConfigStringList, ConfigClearStringList): Adjust.

2004-06-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (SetClearStringList, ConfigClearStringList): Support
	regular expression.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (InvalidRegexOption, NoRegex): New functions.
	(ConfigStringList): Support regular expression.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.cc (FindSkipDir): Fix regular expression logic.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.cc (FindSkipDir): Support regular expression.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Use POSIX regex.
	* configure: Regenerate.
	* confobj.h: Include <sys/types.h>, <regex.h>.
	(DirConfig::regex, DirConfig::regex_buffer): New members.
	(DirConfig::DirConfig): Add regex parameter.  Compile regular
	expression.
	(DirConfig::operator==): Check regex.
	* conffile.cc (IsRegPatternMatch): New class.
	(SetStringList): Add regex parameter.
	(ConfigStringList, ConfigStringListNoGlob): Adjust.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src, pkgsrc/README.src, pkgsrc/kcd.1.src: Update.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (CommaExpected, InvalidOption): New functions.
	(SetStringList): Use globDot, globPath from parameter.
	(ConfigStringList): Implement.
	(ConfigStringNoGlob): Adjust.
	* seek.cc (SeekConfigTokenEnd): Terminate search when '=' found.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ConfigStringList): Reorder checks.  Don't modify buf.
	(ConfigStringListNoGlob): New function.
	(cfgFuncStringListNoGlob): Use it.
	(configInfo): StartDir use cfgFuncStringListNoGlob.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintConfig): Add comment.

	* pkgsrc/NEWS.src: Update.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure: Regenerate.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Update copyright year.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (PrintBanner): Update copyright year.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (Features): Display regular expression support.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Check for regex.h header and functions.
	* config.h.in, configure: Regenerate.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2004-06-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 7.7.0.

2004-04-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.in: Regenerate.

2004-04-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.prepend: Document DESTDIR.

2004-04-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append (default-target): Remove default-po.
	(default-po, install): Don't issue warning when gmsgfmt is missing.
	* scripts/makepkg
	* Makefile.in: Regenerate.
	* scripts/makepkg: Run make default-po.
	* scripts/version: Bump version number to 7.6.2.

2004-04-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Don't add "-I./intl" to CPPFLAGS
	* configure: Regenerate.

2004-03-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.
	* scripts/version: Bump version number to 7.6.1.

2004-03-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Check GMSGFMT against ":" for msgfmt availability.
	* Makefile.in: Regenerate.

2004-03-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.cc (ap_fnmatch): New define.
	* cstrlib.cc (ap_fnmatch): New define.
	* configure.ac: Add comment.  Handle when $prefix is empty.
	* configure: Regenerate.
	* pkgsrc/NEWS.src: Update.
	* scripts/version: Bump version number to 7.6.0.

2003-12-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Tweak bool requirement error message.
	* configure: Regenerate.

2003-10-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-10-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/config.sgml: New file.
	* pkgsrc/kcd.sgml.src: Adjust.
	* scripts/makepkg-real: Update.

2003-10-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/cmdsynopsis3.sgml, doc/cmdsynopsis4.sgml: Add content.

2003-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makepkg-real: Copy doc/key.sgml, doc/license.sgml.

2003-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makepkg, scripts/makepkg-release: Regenerate HTML
	documents.
	* scripts/makepkg-real: Update copyright year.

2003-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Document doc/*.html.
	* scripts/makepkg-real: Copy doc/*.html.

2003-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/key.sgml, pkgsrc/README.src: Fix typos.

2003-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/cmdsynopsis2.sgml: Fix typo.

2003-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/basics.sgml, doc/cmdsynopsis1.sgml: Tidy screen output.

2003-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

	* pkgsrc/README.src: Document missing information in --features
	output.  Remove obsoleted -iau, -icu, -ifu options.

2003-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (Help): Adjust -B option help.

	* doc/cmdsynopsis1.sgml, doc/cmdsynopsis2.sgml: Add content.
	* pkgsrc/kcd.sgml.src: Remove overview for command line options.
	* pkgsrc/README.src: Adjust -B option description.

2003-10-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* UNICODE: Update.

	* pkgsrc/kcd.sgml.src: Tidy.

2003-10-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/license.html: Add contribution.
	* pkgsrc/kcd.sgml.src: Add link to home page.

2003-10-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/key.sgml, pkgsrc/README.src: Reorganize.

2003-10-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/key.sgml: Reorganized.
	* doc/license.sgml: New file.
	* pkgsrc/README.src: Reorganized.
	* pkgsrc/kcd.sgml.src: Include key.sgml, license.sgml.

2003-10-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append (html): Remove *.html files before generating new ones.
	* Makefile.in: Regenerate.

2003-10-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2003-10-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/dirwin.sgml, pkgsrc/README.src: Tidy.

2003-10-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/dirwin.sgml, pkgsrc/README.src: Reorganize directory tree
	window legends.
	* doc/key.sgml: New file.

2003-10-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/basics.sgml, doc/dirwin.sgml, pkgsrc/README.src: Update.

2003-10-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makelink: Fix kcd.sgml symlink.

2003-09-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src, pkgsrc/kcd.1.src: Improve configuration command
	value details.

2003-09-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 7.5.0.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DisplayTree): Set rescan to true if given directory
	is not in saved directory tree.
	* kcdmain.cc (Help): Correct `-tr' help.
	* pkgsrc/NEWS.src: Update.
	* pkgsrc/README.src, pkgsrc/kcd.1.src: Document `-tr'.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (Help): Add `-tr'.
	(mainReal): Correct DisplayTree call for `-tr'.
	* scandir.cc (ScanDirAndDisplay): Reinitialize
	kcdConfig.cfgSkipDir.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (LoadConfig, LoadAllConfig): Change quiet parameter
	type to bool.
	* dirtree.cc (LoadDirFile): Likewise.
	* conffile.h (LoadAllConfig): Adjust.
	* dirtree.h (LoadDirFile): Likewise.
	* gentree.cc (CD, ShowBookmarks, AddBookmarks, RemoveBookmarks):
	Use true/false instead of 1/0.
	* kcdmain.cc (mainReal): Likewise.
	* scandir.cc (SmartScanDir): Likewise.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc: Include "scandir.h".
	(GetDisplayTree): Throw exception when both parameter is not
	given and current directory cannot be determined.
	(DisplayTree, DisplayFullTree): Add rescan parameter.
	* gentree.h (DisplayTree, DisplayFullTree): Adjust.
	* kcdmain.cc (mainReal): Fix syntax error.
	* scandir.cc (ScanDirAndDisplay): Don't call LoadDirFile,
	DisplayTree, DisplayFullTree.
	* scandir.h (ScanDirAndDisplay): Correct declaration.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.cc (KcdConfig::KcdConfig): Use true/false instead of 1/0.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.h (ScanLog::quiet): Change type to bool.
	(ScanLog::SetQuiet): Change parameter type to bool.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (forceFullScan): Remove global variable.
	(mainReal): Use local forceFullScan.  Change type to bool.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Enforce position of `-p'.
	* pkgsrc/NEWS.src: Update.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Call LoadAllConfig for `-tr' option.
	(Help): Add a note that `-p' must be the first option.
	* scandir.cc (FullScanDir, SmartScanDir, PartialScanDir,
	ScanDirAndDisplay): Don't call LoaddAllConfig here.
	* pkgsrc/README.src, pkgsrc/kcd.1.src: Add a note that `-p' must
	be the first option.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.h (KcdConfig::cfgQuiet): Remove.
	(KcdConfig::SetScanMode): Remove.
	(KcdConfig::ForceQuiet): Declare.
	* confobj.cc (KcdConfig::KcdConfig, KcdConfig::operator=): Adjust.
	(KcdConfig::ForceQuiet): New function.
	(KcdConfig::SetScanMode): Remove.
	* kcdmain.cc (forceQuiet): Remove.
	(mainReal): Call LoadAllConfig, kcdConfig.ForceQuiet.
	* scandir.cc (FullScanDir, SmartScanDir, PartialScanDir,
	ScanDirAndDisplay): Don't use kcdConfig.SetScanMode,
	kcdConfig.cfgQuiet.
	* scandir.h (forceQuiet): Remove.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Add -tr option.
	* scandir.cc (ScanDirAndDisplay): Call DisplayTree and
	DisplayFullTree.

2003-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DisplayTree, DisplayFullTree): Don't call LoadDirFile
	here.
	* kcdmain.cc: Include "dirtree.h".
	(mainReal): Call LoadDirFile here.

2003-09-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (ScanDirAndDisplay): New function.
	* scandir.h (ScanDirAndDisplay): Declare.

	* pkgsrc/NEWS.src: Update.

2003-09-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src, pkgsrc/kcd.1.src: Fix typos.  Document
	DefaultTree configuration command.

2003-09-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (AddDisplayTree): New function.
	(GetDisplayTree): Use it.
	(CD): Check DefaultTree configuration.

2003-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintStringListNoGlob): New function.
	(cfgFuncStringListNoGlob): New variable.
	(configInfo): Add DefaultTree.
	(NUM_CONFIG_INFO): Adjust.

2003-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.h (KcdConfig): Add cfgDefaultTree field.
	* confobj.cc (KcdConfig::KcdConfig, KcdConfig::operator=,
	KcdConfig::~KcdConfig): Adjust.

2003-08-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (LoadConfig): Fix typo in error message.
	* khdoc.cc (HyperDocument::ProcessHypertext): Likewise.

2003-08-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/kcd.1.src: Fix typos.

2003-08-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src, pkgsrc/README.src, pkgsrc/kcd.1.src: Fix typos.

2003-08-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* UNICODE: Fix typos.

2003-08-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Fix typo.

2003-08-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src: Fix typos.

2003-08-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4 (CXXAC_TYPE_BOOL): Correct comment.

2003-08-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 7.3.0.

2003-08-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DirListCD): Reset adjust if match_no is given.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src, pkgsrc/README.src, pkgsrc/kcd.1.src: Document
	match number parameter.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DirListCD): Add match_no parameter.
	(CD): Change type of match_no to size_t.  Check match_no.
	* gentree.h (CD): Adjust declaration.
	* kcdmain.cc (mainReal): Change match number type to size_t.

	* pkgsrc/NEWS.src: Update.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Add match_no parameter.
	* gentree.h (CD): Adjust declaration.
	* kcdmain.cc (mainReal): Get match number from command line.

	* pkgsrc/NEWS.src: Update.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (GetDisplayTree): Split out from ...
	(DisplayTree): ... here.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DisplayFullTree): New function.
	* gentree.h (DisplayFullTree): Declare.
	* kcdmain.cc (Help): Add -T option.
	(mainReal): Handle -T option.
	* pkgsrc/README.src, pkgsrc/kcd.1.src: Document -T option.
	* pkgsrc/NEWS.src: Update.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 7.1.0.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src: Document -t.
	* pkgsrc/kcd.1.src: Likewise.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* pkgsrc/NEWS.src: Update.

	* gentree.cc (HyperTreeDraw::GenerateSymLinkHTML): Output target
	directory in case of symlink out of tree.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirtree.cc: Include "gentree.h"
	(ResolveSymLink, RecursiveResolveSymLink): Add tree parameter.
	Move from ...
	* scandir.cc (ResolveSymLink, RecursiveResolveSymLink): ... here.
	(ExpandSymLink): Adjust RecursiveResolveSymLink call.
	* dirtree.h (RecursiveResolveSymLink): Declare.
	* gentree.cc (DisplayTree): Use RecursiveResolveSymLink.
	* scandir.h: Update copyright year.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (FindDir(const string &, bool, bool, bool),
	FindDir(const string &, bool, bool)): Add tree parameter.
	(CD, DisplayTree, AddBookmark, RemoveBookmark, GetBookmarks):
	Adjust.
	* scandir.cc (ResolveSymLink, DoPartialScanDir): Likewise.
	* gentree.h (FindDir(const string &, bool, bool, bool),
	FindDir(const string &, bool, bool)): Adjust declaration.

2003-07-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* gentree.cc (DisplayTree): Display [*] for if tree root is not in
	file.  Handle missing current directory correctly.

2003-07-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* gentree.cc (DisplayTree): Fix memory issues.

2003-07-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (HyperTreeDraw::dirTree): New field.
	(HyperTreeDraw::HyperTreeDraw): Add constructor.
	(HyperTreeDraw::Draw): Use the new field.
	(CD): Adjust HyperTreeDraw construction.
	(DisplayTree): Implement more.

2003-07-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (HyperTreeDraw::DrawBegin, HyperTreeDraw::DrawEnd):
	New functions.  Split out from ...
	(HyperTreeDraw::Draw): ... here.

2003-07-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (RecursiveFindDir): Add comment.
	(DisplayTree): Setup full screen mode.

2003-07-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (FullScreenMode): Split out from ...
	(CD): ... here.  Remove hyperFindLink.
	(ShowBookmarks): Likewise.
	(DisplayTree): Check input parameter.

2003-07-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DisplayTree): New function.
	* gentree.h (DisplayTree): Declare.
	* kcdmain.cc (Help): Document -t option.
	(mainReal): Handle -t.

2003-07-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-07-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Tidy.
	* Makefile.in: Regenerate.

2003-07-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append (distclean-curdir): Remove generated po files.
	* pkgsrc/NEWS.src: Fix typo.

2003-07-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

	* scripts/version: Bump version number to 7.0.0.

2003-06-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DirListCD): Correct message display condition.

2003-06-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DirListCD): Always initialize current.  Always
	display message when remain in the current directory.

2003-06-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-06-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DirListCD): Improve error message.

2003-05-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 6.13.0.

2003-05-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* khdoc.cc (HyperDocument::ProcessHypertext,
	HyperDocument::DrawBegin, HyperDocument::DrawString): Remove
	unsigned and signed comparison warning.
	* khwin.cc (HyperWindow::ProcessKeyScrollUpLine,
	HyperWindow::ProcessKeyScrollDownLine, HyperWindow::ProcessKey):
	Likewise.
	* strmisc.cc (QuoteShellChars): Remove unused variable.

2003-05-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (ImportBookmarks): Don't throw exception upon file
	not found.

	* kcd-inst.in: Don't modify .kshrc more than once.

	* pkgsrc/NEWS.src: Update.

2003-05-25  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2003-05-25  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (SetSaveFile): Don't call getenv multiple times.
	(mainReal): Likewise.  Check for sane IFS.
	* kcdscr: Use "$@".

2003-05-25  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in: Use HOME and SHELL environment variable if
	getting information from passwd fails.  Support ksh.

2003-05-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* UNICODE: Update programs version information.

2003-04-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src: Fix typos.

	* pkgsrc/kcd.1.src: Document key bindings.

2003-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* statwin.h (StatusWindowBase::statusNo): Change type to size_t.
	(StatusWindowBase::maxStatus): Remove.
	(StatusWindowBase::MaxStatus, khStatusWindow::MaxStatus,
	khURLWindow::MaxStatus, khURLWindowWithFind::MaxStatus): New
	member functions.
	(khURLWindow::statKey1, khURLWindow::statKey2,
	khURLWindow::statKey3, khURLWindowWithFind::statKey4WithFind,
	khURLWindowWithFind::statKeyWithFind,
	khURLWindowWithFind::statKeyCtrlF): Remove static.
	* statwin.cc (StatusWindowBase::NextStatus): Don't use maxStatus.
	(StatusWindowBase::StatusWindowBase): Remove maxStatus parameter.
	(khStatusWindow::khStatusWindow): Adjust base initializer.
	(khURLWindow::statKey1, khURLWindow::statKey2,
	khURLWindow::statKey3): Don't initialized out of class.
	(khURLWindow::khURLWindow): Adjust base initializer.  Initialize
	statKey1, statKey2, statKey3 here.
	(khURLWindowWithFind::statKey4WithFind,
	khURLWindowWithFind::statKeyWithFind,
	khURLWindowWithFind::statKeyCtrlF): Don't initialized out of class.
	(khURLWindowWithFind::khURLWindowWithFind): Adjust base initializer.
	Initialize statKey4WithFind, statKeyWithFind, statKeyCtrlF here.

	* pkgsrc/README.src: Update.

2003-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* khwin.cc (HyperWindow::ProcessKey): Adjust comments for emacs
	key binding.

	* scrnman.cc (NCScreenManager::KeyboardLoop): Add comment.

2003-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src: Document key bindings.

2003-04-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2003-04-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (HyperWindow::ProcessMouse): Accept mouse release and
	triple-click.
	* scroll.cc (khHScrollBar::ProcessMouse,
	khVScrollBar::ProcessMouse): Likewise.
	* statwin.cc (khURLWindow::ProcessMouse): Likewise.

	* po/POTFILES.in: Remove version.cc.

	* pkgsrc/NEWS.src: Update.

2003-04-25  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Correct defining NCURSESAC_ENABLE_MOUSE.
	* configure: Regenerate.

2003-04-25  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Enable mouse by default.

2003-04-25  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (Help): Remove -bx.
	(mainReal): Likewise.
	* khwin.cc (khHyperWindowWithFind::FindProcessKey): Handle
	Ctrl-C.
	* pkgsrc/NEWS.src: Update.

2003-04-25  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2003-04-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 6.11.0.

2003-04-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-04-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Record 6.4.2, 6.4.1 changes.

2003-04-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.
	* pkgsrc/NEWS.src: Update.

2003-04-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (HyperWindow::HyperWindow): Initialize emacsFoundAlt.
	(HyperWindow::ProcessKey): Process Ctrl-C.  Handle M-v, C-a, C-e,
	M-b, M-f.
	(HyperWindowWithFind::ProcessKey): Handle C-r.  Clear emacsFoundAlt.
	* khwin.cc (HyperWindow::emacsFoundAlt): New field.
	* miscobj.cc: Update copyright year.
	(NCurses::InitMore): Use raw.
	(NCurses::End): Undo changes in NCurses::InitMore.
	* statwin.cc (khStatusWindowWithFind::ProcessKey): Handle C-r.
	Handle emacs find mode.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* statwin.h: Update copyright year.
	(StatusWindowBase): Add SetCount.
	(khStatusWindowWithFind): Add count, SetCount.
	* statwin.cc: Update copyright year.
	(khStatusWindowWithFind::ProcessKey): Handle count.
	(khStatusWindowWithFind::khStatusWindowWithFind): Initialize
	count.
	* khwin.cc (khHyperWindowWithFind::ProcessKey): Use SetCount.
	Clear all vi state.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (ProcessKeyScrollUpLines, ProcessKeyScrollDownLines):
	Return immediately if scroll zero lines.
	(ProcessKey): Check viCount for ^E, ^Y in vi key binding.
	Emulate M-V in emacs key binding.
	(khHyperWindowWithFind::FindText): Add find_backward parameter.
	(khHyperWindowWithFind::ProcessKey): Call status bar ProcessKey
	in case of vi searching.
	* khwin.h (SomethingWithFind::FindText,
	khHyperWindowWithFind::FindText): Add find_backward parameter.
	* statwin.cc (khStatusWindow::Init): Initialize find_backward.
	(khStatusWindowWithFind::ProcessKey): Use find_backward.  Handle
	Enter key in vi key binding.  Handle '/', '?' in middle of search
	string.
	* statwin.h (khStatusWindow): Add prev_edit_string, find_backward.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (HyperWindow::ProcessKey): Add ^E, ^Y in vi key binding.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.h (HyperWindow): Add viFoundZ field.
	* khwin.cc (HyperWindow::HyperWindow): Initialize viFoundZ.
	(HyperWindow::ProcessKey): Handle ZZ, ZQ in vi key binding.

	* pkgsrc/NEWS.src: Update.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.in: Regenerated.

	* dirutil.cc (ExpandDirectory): Change quote parameter to bool.
	Add missing unquoting case.
	* dirutil.h: Update copyright year.
	(ExpandDirectory): Adjust.
	* conffile.cc: (ConfigStringList, ConfigClearStringList): Adjust.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirutil.cc: Update copyright year.
	(ExpandDirectory): Handle quoting in all case.  Throw exception
	if unquoting fails.
	* strmisc.cc: Update copyright year.
	(UnquoteShellChars): Add quoteGlob parameter.
	* strmisc.h: Update copyright year.
	(UnquoteShellChars): Add quoteGlob parameter.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/en_GB.pl: Add initialize, optimize.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/en_GB.pl: Handle -ization.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (NUM_CONFIG_INFO): Adjust.
	(configInfo): Add FuzzySize.
	* confobj.cc (KcdConfig::KcdConfig): Initialize cfgFuzzySize.
	(KcdConfig::operator=): Copy cfgFuzzySize.
	* confobj.h (KcdConfig): Add cfgFuzzySize field.
	* gentree (NUMFUZZYERR): Remove.
	(FuzzyRecursiveFindMatchDir, FindMatchDir): Use cfgFuzzySize.
	* pkgsrc/README.src, pkgsrc/kcd.1.src: Document FuzzySize.

2003-04-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-04-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (FuzzyRecursiveFindMatchDir): Improved
	case-insensitive code.  Undo error weight for larger number of
	mismatched characters changes.

2003-04-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (FuzzyRecursiveFindMatchDir): Make error not
	case-sensitive.  Change error weight for larger number of
	mismatched characters.

2003-04-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (MatchInfo): Add error field.
	(MatchInfo::MatchInfo): Adjust.
	(FuzzyRecursiveFindMatchDir): Use match_list.  Remove depth
	and add_curdir parameter.  Use list sorting.
	(FuzzyFindMatchDir): Use match_list.  Remove depth and
	add_curdir.
	(FindMatchDir): Adjust.

2003-04-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (FuzzyRecursiveFindMatchDir): Remove lastloff.  Don't
	store the same directory multiple times.

2003-04-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (FuzzyRecursiveFindMatchDir): Scale error down by
	a factor of 10.

2003-04-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (FuzzyRecursiveFindMatchDir): Tidy.
	(FuzzyFindMatchDir): Likewise.  Fix off-by-one error.
	(FindMatchDir): Tidy.

2003-04-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2003-04-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	Patch from Robert Sandilands <rsandila@netscape.net>:
	* gentree.cc (NUMFUZZYERR): New define.
	(FuzzyRecursiveFindMatchDir, FuzzyFindMatchDir): New functions.
	(FindMatchDir): Use them.

2003-04-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (ProcessKeyScrollUpLines): New function, adapted from ...
	(ProcessKeyPrevPage): ... this.
	(ProcessKeyScrollDownLines): New function, adapted from ...
	(ProcessKeyNextPage): ... this.
	(ProcessKey): Handle ^U, ^D in vi key binding.
	* khwin.h (ProcessKeyScrollUpLines, ProcessKeyScrollDownLines):
	Declare.
	(ProcessKeyPrevPage, ProcessKeyNextPage): Use them.

2003-04-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (HyperWindow::ProcessKeyUp): Rename from ...
	(HyperWindow::ProcessKeyPrevLine): ... this.
	(HyperWindow::ProcessKeyDown): Rename from ...
	(HyperWindow::ProcessKeyNextLine): ... this.
	(HyperWindow::ProcessKey): Adjust.
	* khwin.h (HyperWindow::ProcessKeyUp): Rename from ...
	(HyperWindow::ProcessKeyPrevLine): ... this.
	(HyperWindow::ProcessKeyDown): Rename from ...
	(HyperWindow::ProcessKeyNextLine): ... this.

2003-04-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.h (HyperWindow::viFoundG): Rename from ...
	(HyperWindow::foundG): ... this.
	(HyperWindow::viFoundCount, HyperWindow::viCount): New fields.
	* khwin.cc (HyperWindow::HyperWindow): Initialize them.
	(HyperWindow::ProcessKey): Use them.

2003-04-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (HyperWindow::ProcessKeyBeginLine,
	HyperWindow::ProcessKeyEndLine): New functions.
	(HyperWindow::ProcessKey): Implement 0, ^, $ for vi key binding.
	* khwin.h (HyperWindow::ProcessKeyBeginLine,
	HyperWindow::ProcessKeyEndLine): Declare.

2003-04-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DirListCD): Tidy.

	* pkgsrc/kcd.1.src: Update copyright year.

2003-04-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2003-04-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (ReplaceControlChar): New function.
	(HyperTreeDraw::GenerateSymLinkHTML,
	HyperTreeDraw::GenerateDirHTML, HyperListDraw::HyperListDraw,
	HyperListDraw::Draw): Use it.

	* pkgsrc/NEWS.src: Update.

2003-04-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (HyperTreeDraw::GenerateSymLinkHTML,
	HyperTreeDraw::GenerateDirHTML): Replace control characters.
	(HyperTreeDraw::Draw): Remove off-by-one work around.
	* khdoc.cc (HyperDocument::DrawString): Add test code.

2003-04-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (HyperTreeDraw::Draw): Fix off-by-one error in row
	calculation.
	* khdoc.cc: Update copyright year.  Include <fstream>.

2003-04-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.h (HyperWindow): Add foundG field.
	* khwin.cc (khScreenManager::ReadKeyboard): Tidy.  Limit Ctrl-R,
	Ctrl-F to kcd binding.  Add Ctrl-L for vi binding.
	(HyperWindow::HyperWindow): Initialize foundG.
	(HyperWindow::ProcessKey): For vi binding, support q, -, +, _,
	gg, G.

2003-04-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc: Update copyright year.
	(khScreenManager::ReadKeyboard): Check key binding.
	(HyperWindow::ProcessKeySelect, HyperWindow::ProcessKeyCenter,
	HyperWindow::ProcessKeyNextStatus, HyperWindow::ProcessKeyExit,
	HyperWindow::ProcessKeyPanLeft, HyperWindow::ProcessKeyPanRight,
	HyperWindow::ProcessKeyPrevLine, HyperWindow::ProcessKeyNextLine,
	HyperWindow::ProcessKeyFirstLine, HyperWindow::ProcessKeyLastLine,
	HyperWindow::ProcessKeyPrevPage, HyperWindow::ProcessKeyNextPage,
	HyperWindow::ProcessKeyFirstPage, HyperWindow::ProcessKeyLastPage,
	HyperWindow::ProcessKeyPrev, HyperWindow::ProcessKeyNext):
	New functions, split out from ...
	(HyperWindow::ProcessKey): ... here.
	(khHyperWindowWithFind::ProcessKey): Check key binding.
	* khwin.h: Update copyright year.
	(HyperWindow::ProcessKeySelect, HyperWindow::ProcessKeyCenter,
	HyperWindow::ProcessKeyNextStatus, HyperWindow::ProcessKeyExit,
	HyperWindow::ProcessKeyPanLeft, HyperWindow::ProcessKeyPanRight,
	HyperWindow::ProcessKeyPrevLine, HyperWindow::ProcessKeyNextLine,
	HyperWindow::ProcessKeyFirstLine, HyperWindow::ProcessKeyLastLine,
	HyperWindow::ProcessKeyPrevPage, HyperWindow::ProcessKeyNextPage,
	HyperWindow::ProcessKeyFirstPage, HyperWindow::ProcessKeyLastPage,
	HyperWindow::ProcessKeyPrev, HyperWindow::ProcessKeyNext): Declare.

2003-04-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.h: Update copyright year.
	(DirectoryEntry): Adjust comment.
	* gentree.cc (html_outside_tree, html_outside_tree_width): New
	variables.
	(GenerateHTMLStrings): Initialize them.
	(HyperTreeDraw::GenerateSymLinkHTML): Use them.
	* scandir.cc: Include <fstream>.
	(ResolveSymLink): Don't modify tree.
	* pkgsrc/README.src, pkgsrc/kcd.1.src: Document updated symlink
	display behavior.

2003-04-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2003-04-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (cfgFuncKeyBinding): New variable.
	(NUM_CONFIG_INFO): Update.
	(configInfo): Add KeyBinding.

2003-04-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintKeyBinding): Correct implementation.

2003-04-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc: Update copyright year.
	(ConfigValue): Add cfgKeyPtr field.
	(KeyBindingMap): New struct.
	(NUM_KEY_BINDING): New define.
	(keyBindingMap): New variable.
	(SetKeyBinding, ConfigKeyBinding, PrintKeyBinding): New functions.
	(ConfigColorAttr, PrintColorAttr, ConfigColor, ConfigBWAttr): Use
	size_t.
	(configInfo): Adjust field.

2003-04-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.h: Update copyright year.
	(KeyBindingType): New enum.
	(KcdConfig): Add cfgKey field. 
	* confobj.cc: Update copyright year.
	(KcdConfig::KcdConfig): Initialize cfgKey.
	(KcdConfig::operator=): Copy cfgKey.

2003-04-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 6.9.0.

2003-04-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2003-04-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.cc (QuoteShellChars): Output UTF-8 characters without
	quoting.

2003-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.cc (HexToBin): Throw exception on error.

	* TODO: Update.

2003-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirutil.cc (ExpandDirectory): Catch exception from
	UnquoteShellChars.
	* gentree.cc (ImportBookmarks): Likewise.
	* scandir.cc (FullScanDir, SmartScanDir): Likewise.

	* TODO: Update.

2003-03-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (OutputBookmarks): Call QuoteShellChars.
	(ImportBookmarks): Call UnquoteShellChars.

2003-03-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.cc (HexToBin): Move function earlier.

2003-03-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.cc (QuoteShellChars): New function.
	(UnquoteShellChars): Support \xHH.
	* strmisc.h (QuoteShellChars): Declare.
	* pkgsrc/README.src: Document \xHH quoting.
	* pkgsrc/kcd.1.src: Likewise.

2003-03-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Adjust -bx message.
	* pkgsrc/README.src: Remove reference to -bx.
	* pkgsrc/kcd.1.src: Likewise.

2003-03-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (Help): Indicate that -bx is deprecated.
	* pkgsrc/kcd.1.src: Likewise.

2003-03-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Warn about -bx.

	* pkgsrc/NEWS.src: Update.

2003-03-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DirListCD): Add 'adjust' parameter.  Also display new
	directory in case of multiple match.
	(CD): Adjust DirListCD call.  Use size_t type for 'adjust'.

	* pkgsrc/NEWS.src: Update.

2003-03-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (AddBookmark): Don't bookmark the same directory
	twice.
	(GetBookmarks): Only match string after the last '/'.

2003-02-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in: Fix quoting.

2003-02-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Update.

2003-02-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

	* scripts/version: Bump version number to 6.7.1.

2003-02-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Fix lifetime problem of match_list.

2003-02-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4 (CXXAC_STRING_IO): Include <iostream>.
	* aclocal.m4, configure: Regenerate.

2003-02-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2003-02-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* aclocal.m4, configure: Regenerate.

	* list.h: Update copyright year.
	(saptr::operator=): Return value.

2003-02-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac, dirobj.cc, dirtree.cc, gentree.cc, gentree.h,
	kcdmain.cc, scandir.cc, acinclude.m4/cxxac.m4, pkgsrc/README.src:
	Update copyright year.

	* acinclude.m4/cxxac.m4 (CXXAC_BAD_NEW): Include <new> in test.

2003-02-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* configure.ac: Fix mouse support status display.
	* configure: Regenerate.
	* pkgsrc/NEWS.src: Update.

2003-02-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

	* scripts/version: Bump version number to 6.7.0.

2003-02-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (ImportBookmarks): Call AddBookmark ignoring errors.

2003-02-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Reimplement current directory adding to
	bookmarked search.

2003-02-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (GetBookmarks): Declare.
	(CD): Import bookmarks only when link text is given.  Update
	bookmark matching logic.
	(AddBookmark, RemoveBookmark): Add newline character to
	error message.
	(ImportBookmarks): Clear bookmark_list.

	* pkgsrc/NEWS.src: Update.

2003-02-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.h (FindDirInfo): Change dir_ptr type to
	sptr<DirectoryEntry>.  Adjust constructor.
	(ImportBookmarks, ExportBookmarks): Remove load parameter.
	* gentree.cc (RecursiveFindDir, FindDir): Adjust FindDirInfo call.
	(bookmark_list): New variable.
	(GetBookmarks): Use bookmark_list.
	(AddBookmark, RemoveBookmark): Likewise.  Add verify parameter.
	(ExportBookmarks(const string &, const list<MatchInfo>)): Remove.
	(OutputBookmarks): New function.
	(ImportBookmarks, ExportBookmarks): Remove load parameter.
	(CD, ShowBookmarks, ExportBookmarks, AddBookmarks, RemoveBookmarks): 
	Adjust ImportBookmarks, AddBookmark, RemoveBookmark call.
	* kcdmain.cc (mainReal): Adjust ExportBookmarks function call.
	* scandir.cc (DoPartialScanDir): Adjust FindDir return information.

2003-02-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.cc (DirectoryEntry::DirectoryEntry(gzFile)): Don't read
	bookmark.
	(DirectoryEntry::gzWriteInfo): Don't write bookmark.

2003-02-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (AddBookmarks, RemoveBookmarks): Don't write bookmark
	to dir file.

2003-02-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirtree.cc (uniqueTag): Bump file ID version.
	* gentree.cc (CD, GetBookmarks, ExportBookmarks, ShowBookmarks,
	AddBookmarks, RemoveBookmarks): Call ImportBookmarks.
	* scandir.cc (FullScanDir, SmartScanDir, PartialScanDir): Don't
	write bookmark to dir file.

2003-01-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 6.5.3.

2003-01-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (MatchInfoIsNotBookmarkedNorCurDir): Add curdir,
	constructor.
	(RecursiveFindMatchDir): Revert last patch.
	(CD): Adjust.
	(GetBookmarks): Likewise.
	* NEWS: Update.

2003-01-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (RecursiveFindMatchDir): Handle when the current
	directory also matches the string.
	(DirListCD): Handle when getcwd fails.

2002-12-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 6.5.2.

2002-11-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (ExportBookmarks): Display file name correctly.
	(ImportBookmarks): Likewise.  Correct end of file logic.
	* scandir.cc (FullScanDir, SmartScanDir, PartialScanDir): Use
	ImportBookmarks.

2002-11-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc: Include <fstream>.
	(ExportBookmarks): Use ofstream.
	(ImportBookmarks): New function.
	* gentree.h (ImportBookmarks): Declare.

2002-11-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.
	* pkgsrc/README.src: Update.
	* pkgsrc/kcd.1.src: Update.

2002-11-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (ExportBookmarks(const string &, 
	const list<MatchInfo> &), ExportBookmarks(const string &, bool),
	AddBookmarks, RemoveBookmarks): Fix compilation failure.
	* kcdmain.cc (mainReal): Likewise.

2002-11-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Only declare buffer when debugging.
	(GetBookmarks, ExportBookmarks(const string &, bool),
	ExportBookmarks(const string &, const list<MatchInfo> &)): New
	functions.
	(ShowBookmark): Rename to ...
	(ShowBookmars): ... this.  Use GetBookmarks.
	(AddBookmarks, RemoveBookmarks): Call ExportBookmarks.
	* gentree.h (ShowBookmark): Rename to ...
	(ShowBookmarks): ... this.  Use GetBookmarks.
	(ExportBookmarks(const string &, bool)): Declare.
	* kcdmain.cc (Help): Add -bx.
	(mainReal): Use ShowBookmarks.  Handle -bx.

2002-11-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (SetSaveFile): Set bookmarkFile.
	* pkgsrc/NEWS.src: Update.
	* pkgsrc/README.src: Document KCD_BOOKMARK.

2002-11-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (bookmarkFile): New variable.
	* dirtree.h (bookmarkFile): Declare.

2002-11-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2002-11-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 6.5.1.

2002-11-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/uploadfile: Don't upload binary RPM.

2002-11-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Fix typos.

2002-11-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in (append_startup, edit_startup): New subroutine.
	(modify_startup_real): Use it.

2002-11-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2002-11-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc: Include <algorithm>.

2002-11-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version 6.5.0.

2002-11-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src: Update.
	* pkgsrc/kcd.1.src: Update.

2002-11-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc: Include "dirutil.h".
	(CD): Correct ShowListThreshold logic.  Restore current directory
	count adjustment.
	(ShowBookmark): Don't call FindDir.  Don't remove current directory.
	(AddBookmark, RemoveBookmark, AddBookmarks, RemoveBookmarks): New 
	functions.
	* gentree.h (AddBookmarks, RemoveBookmarks): Declare.
	* kcdmain.cc (mainReal): Handle options -ba, -br.

	* TODO: Update.

2002-11-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.h (DirectoryEntry): Make bookmark public.  Rename to
	bookmarked.
	* dirobj.cc (DirectoryEntry::DirectoryEntry, 
	DirectoryEntry::UpdateEntry, DirectoryEntry::gzWriteInfo):
	Adjust.
	* gentree.cc (MatchInfoIsBookmarked, 
	MatchInfoIsNotBookmarkedNorCurDir): New structs.
	(RecursiveFindBookmarkedDir, FindBookmarkedDir): New functions.
	(CD): Remove count_adj.  Handle entire_tree.
	(ShowBookmark): Implement.

2002-11-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Add entire_tree parameter.
	(ShowBookmark): New function.
	* gentree.h (CD): Adjust declaration.
	(ShowBookmark): Declare.
	* kcdmain.cc (Help): Update help.
	(mainReal): Change type of rescan to bool.  Process -b, -B options.
	Adjust CD calls.

2002-11-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.h (DirectoryEntry): Add bookmark field.
	* dirobj.cc (DirectoryEntry::DirectoryEntry, 
	DirectoryEntry::UpdateEntry, DirectoryEntry::gzWriteInfo):
	Adjust.
	* dirtree.cc (uniqueTag): Bump file ID.
	(LoadDirHeader): Check bool size.
	(WriteDirFile): Write bool size.

	* kcdmain.cc (mainReal): Call SetSaveFile when no parameters is
	given.

	* pkgsrc/NEWS.src: Update.

	* scripts/makelink: Make pkgsrc/kcd.sgml.src symbolic link.

2002-11-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.in: Regenerate.

2002-11-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Update.

2002-11-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/kcd.sgml.src: New file.

2002-11-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/kcd.sgml: Remove.

2002-11-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* README: Update.
	* kcd.sgml: Add introduction.
	* basics.sgml, dirwin.sgml: Use keycap.
	* ad.append: Use docbook2html.
	* pkgsrc/kcd.dtd.src: Remove.
	* scripts/makepkg-real: Update.
	* FILELIST: Update.

2002-10-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* dirobj.cc (DirectoryEntry::DirectoryEntry): Tidy.

2002-10-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src: Update.

2002-10-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Add ';' to shell alias/function output.

2002-10-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (IsProfileValid): Fix compiler error.

2002-10-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (IsProfileValid): Allow profile name with leading
	underscore.
	* kcdmain.cc (home_dir): New variable.
	(SetSaveFile): New function.
	(mainReal): Use it.
	* FILELIST: Update.
	* pkgsrc/README.src: Update.
	* pkgsrc/kcd.1.src: Update.

2002-10-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintErrorMessageProfile): Remove.
	(LoadConfig): Continue processing after profile errors rather
	than exit.

2002-10-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintErrorMessageProfile): Tweak message.
	(LoadConfig): Handle seek error.  Check profile name validity.

2002-10-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc: Include <ctype>.
	(IsProfileValid): New function.
	* conffile.h (IsProfileValid): Declare.

2002-10-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.cc (allConfig): Use configMap.
	* confobj.h (allConfig): Likewise.

2002-10-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.h (configMap): New type.
	kcdmain.cc (mainReal): Process profiles in
	"-ia", "-ic", "-if", "-ias", "-ics", "-ifs" options.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (LoadAllConfig): Store current profile back into
	allConfig.
	* confobj.cc (KcdConfig::KcdConfig(const KcdConfig &)): Initialize
	pointers.
	(KcdConfig::operator=(const KcdConfig &)): Free previously
	allocated memory.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintConfig, PrintAttrConfig): Set config profile.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintErrorMessageProfile): New function.
	(SetYesNo, PrintYesNo, SetUnsigned, PrintUnsigned, SetStringList,
	PrintStringList, SetClearStringList, SetColorAttr, PrintColorAttr,
	SetColor, PrintColor, SetBWAttr, PrintBWAttr, configInfo): Use
	allConfig.
	(LoadConfig): Process profile.
	(LoadAllConfig): Handle profile.
	* conffile.h: Update copyright year.
	* confobj.cc (KcdConfig::KcdConfig(const KcdConfig &),
	KcdConfig::operator=(const KcdConfig &)): New functions.
	(defConfig, allConfig): New variables.
	* confobj.h: Include <map>.
	(KcdConfig::KcdConfig(const KcdConfig &),
	KcdConfig::operator=(const KcdConfig &)): Declare.
	(defConfig, allConfig): Declare.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.h, cxxlib.cc: Update copyright year.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* list.h (sptr, saptr): Remove const from ptr, count_ptr, own.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Insert current profile into output of
	"-ia", "-ic", "-if", "-ias", "-ics", "-ifs" options.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ConfigValue): Use pointer to member.
	(SetYesNo, PrintYesNo, SetUnsigned, PrintUnsigned, SetStringList,
	ConfigStringList, PrintStringList, SetClearStringList, 
	SetColorAttr, PrintColorAttr, SetColor, PrintColor, SetBWAttr,
	PrintBWAttr, configInfo): Adjust.
	(LoadConfig): Use SetConfigProfile.
	(PrintProfile): New function.
	(PrintConfig, PrintAttrConfig): Use it.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Call LoadAllConfig in quiet mode for
	"-ia", "-ic", "-if", "-ias", "-ics", "-ifs" options.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Update.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/spec.src: Quote variables.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Update.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Fix make call in po subdirectory.
	* Makefile.in: Regenerate.

2002-10-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append, ad.rule: Quote variables.
	* Makefile.in: Regenerate.

2002-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Load configuration files on "-ia", "-ic",
	"-if", "-ias", "-ics", and "-ifs" options.  Fix "-p" processing
	logic.

2002-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (GetCurrentProfile): New function.
	* conffile.h (SetCurrentProfile, GetCurrentProfile): Declare.
	* kcdmain.cc (Help): Add -p option.
	(mainReal): Default profile to kcd.  Process -p option.

2002-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (currentProfile, configProfile): New variables.
	(SetCurrentProfile, SetConfigProfile, IsConfigProfileGlobal): New
	functions.
	(LoadConfig): Call SetCurrentProfile.  Move state transfer to...
	(LoadAllConfig): ...here.

2002-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (IsPatternMatch::IsPatternMatch): Add const to
	parameter type.
	(SetStringList, SetClearStringList, SetColorAttr, SetColor,
	SetBWAttr): New functions.
	(ConfigStringList, ConfigClearStringList, ConfigColorAttr, 
	ConfigColor, ConfigBWAttr): Use them.

2002-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ConfigColorAttr, ConfigColor): Use COLOR_TYPE.

2002-10-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ReadUnsigned): Use unsigned internally.
	(ConfigValue): Remove cfgIntPtr field.  Add cfgUIntPtr, cfgColorPtr
	fields.
	(configInfo): Adjust.	
	(SetYesNo, SetUnsigned): New functions.
	(ConfigYesNo): Use SetYesNo.
	(ConfigUnsigned): Use SetUnsigned.  Use unsigned internally.
	(PrintUnsigned): Use cfgUIntPtr field.
	(ConfigColor, PrintColor): Use unsigned.  Use cfgColorPtr field.
	* confobj.h (AttrConfig): Change int to COLOR_TYPE.
	(KcdConfig): Change cfgShowListThreshold type to unsigned.  Change 
	cfgDefaultBackground type to COLOR_TYPE.

	* scripts/version: Bump version number to 6.3.0.

2002-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4 (CXXAC_HAVE_ARRAY_NEW): Add exception
	specification.
	* aclocal.m4, configure: Regenerate.

2002-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2002-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4 (CXXAC_BAD_NEW): Require
	CXXAC_LIB_NEED_USING_STD.
	* aclocal.m4, configure: Regenerate.

2002-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4 (CXXAC_HAVE_ARRAY_NEW,
	CXXAC_HAVE_PLACEMENT_NEW): Use size_t.
	(CXXAC_BAD_NEW): Fix test.
	(CXXAC_BAD_DELETE): Remove compiler warning.
	(CXXAC_BAD_ALLOC): Fix AH_VERBATIM order.
	* aclocal.m4, config.h.in, configure: Regenerate.

2002-09-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2002-09-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac, scripts/cxxac.m4: Fix AH_VERBATIM usage.
	* aclocal.m4, config.h.in, configure: Regenerate.

2002-09-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Add CXXAC_BAD_NEW.
	* config.h.in, configure: Regenerate.
	* cxxlib.h (new, new[]): Add exception specification.
	* cxxlib.cc (new, new[]): Likewise.
	* pkgsrc/NEWS.src: Update.
	* pkgsrc/version: Bump version number to 6.1.1.

2002-09-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Set DESTDIR correctly.
	* Makefile.in: Regenerate.
	* pkgsrc/spec.src: Set DESTDIR during make install.

2002-09-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Set DESTDIR during "make install" in po directory.
	* Makefile.in: Regenerate.

2002-09-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.in: Regenerate.

2002-09-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Don't call make install in intl directory.

2002-09-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2002-09-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makepkg-real: Remove po/stamp-cat-id.

2002-09-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Define PACKAGE, VERSION, DEBUG_MEMORY, __USE_MALLOC,
	CLIB_HAVE_*, USE_UTF8_MODE, HAVE_FHS, _, N_, BAD_ALLOC, TRIM_* here.
	* acconfig.h, config.h.bot: Remove.
	* config.h.in, configure: Regenerate.
	* FILELIST, scripts/makepkg-real: Update.

2002-09-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4: Add CXXAC_HEADER_MACRO.  Use
	AH_TEMPLATE, AH_VERBATIM.
	* acconfig.h: Remove USING_NAMESPACE_STD, CXX__* macros.
	* aclocal.m4, config.h.in, configure: Regenerate.
	* cstrlib.h, cxxlib.h, dirobj.h, dirutil.h, editbox.h, error.h,
	gtstream.h, gzfileio.h, khwin.h, list.h, miscobj.h, scandir.h,
	seek.h, setupcurses.h, statwin.h, strmisc.h: Add semicolon after
	USING_NAMESPACE_STD.
	* buffer.cc, utf8test.cc: Remove USING_NAMESPACE_STD.

2002-09-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Define HAVE_RESIZETERM, NCURSESAC_ENABLE_MOUSE.
	* acinclude.m4/ncurses.m4 (NCURSESAC_MOUSEMASK): Define
	NCURSESAC_HAVE_MOUSEMASK.
	(NCURSESAC_NEW_ATTR): Define NCURSESAC_HAVE_NEW_ATTR_GET_ATTR_SET.
	* acconfig.h: Remove ENABLE_NLS, HAVE_CATGETS, HAVE_GETTEXT,
	HAVE_LC_MESSAGES, HAVE_STPCPY, HAVE_RESIZETERM,
	NCURSESAC_HAVE_MOUSEMASK, NCURSESAC_ENABLE_MOUSE,
	NCURSESAC_NEW_ATTR_GET_ATTR_SET.
	* aclocal.m4, config.h.in, configure: Regenerate.

2002-09-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/zlib.m4: Use AH_TEMPLATE for ZLIBAC_* macros.
	* acconfig.h: Remove ZLIBAC_* macros.
	* aclocal.m4, config.h.in, configure: Regenerate.

2002-09-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.ac: Rename from...
	* configure.in: ...here.
	* FILELIST, scripts/makepkg-real: Update.

2002-09-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4, acinclude.m4/ncurses.m4,
	acinclude.m4/zlib.m4: Remove obsoleted AC_LANG_SAVE,
	AC_LANG_RESTORE.
	* aclocal.m4, configure: Regenerate.

2002-09-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4: Remove obsoleted AC_LANG_CPLUSPLUS,
	AC_LANG_C.
	* acinclude.m4/ncurses.m4: Likewise.  Bump version number to 0.2.0.
	* acinclude.m4/zlib.m4: Likewise.  Bump version number to 0.2.0.

2002-09-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4: Define USING_NAMESPACE_STD.
	* acconfig.h: Add USING_NAMESPACE_STD.
	* config.h.bot: Remove USING_NAMESPACE_STD.
	* aclocal.m4, config.h.in, configure: Regenerate.

2002-09-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h: Bump version number to 0.11.0.
	* config.h.in: Regenerate.

2002-09-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4: Add CXXAC_BAD_NEW to CXXAC_TEST_ALL.  Bump
	version number to 0.11.0.
	* aclocal.m4, configure: Regenerate.

	* scripts/version: Bump version number to 6.1.0.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* config.h.in: Regenerate.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.in: Regenerate.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST, scripts/makepkg-real: Update file list.
	* ad.append: Remove kcd-inst upon dist-clean.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* po/Makefile.in.in: Import from gettext 0.11.3.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* po/Makevars, po/Rules-quot, po/boldquot.sed,
	po/en@boldquot.header, po/en@quot.header, po/insert-header.sin,
	po/quot.sed, po/remove-potcdate.sin: Import from gettext 0.11.3.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h: Add new throw test macros.
	* config.h.in: Regenerate.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Remove default-intl target.
	* ad.prepend: Change @INTLLIBS@ to @LIBINTL@.
	* ad.rule: Remove intl SUBDIR.  Change @POSUB@ to po.
	* aclocal.m4, Makefile.in: Regenerate.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ABOUT-NLS: Import from gettext 0.11.3.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add external option to AM_GNU_GETTEXT.  Remove
	intl/Makefile.in substitution.
	* configure: Regenerate.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/mkinstalldirs: Import from gettext 0.11.3.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/config.guess, scripts/config.rpath, scripts/config.sub:
	Import from gettext 0.11.3.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4: Add CXXAC_BAD_NEW test.

	* acinclude.m4/gettext.m4, acinclude.m4/glibc21.m4,
	acinclude.m4/iconv.m4, acinclude.m4/intdiv0.m4,
	acinclude.m4/isc-posix.m4, acinclude.m4/lcmessage.m4,
	acinclude/lib-ld.m4, acinclude/lib-link.m4,
	acinclude.m4/lib-prefix.m4, acinclude.m4/progtest.m4: Import from
	gettext 0.11.3.

2002-09-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* intl/ChangeLog, intl/Makefile.in, intl/VERSION, intl/bindtexdom.c,
	intl/cat-compat.c, intl/dcgettext.c, intl/dgettext.c,
	intl/explodename.c, intl/finddomain.c, intl/gettext.c,
	intl/gettext.h, intl/gettextP.h, intl/hash-string.h,
	intl/l10nflist.c, intl/libgettext.h, intl/linux-msg.sed,
	intl/loadinfo.h, intl/loadmsgcat.c, intl/localealias.c,
	intl/po2tbl.sed, intl/po2tbl.sed.in, intl/textdomain.c,
	intl/xopen-msg.sed: Remove files.

2002-09-03  gettextize  <bug-gnu-gettext@gnu.org>

	* configure.in (AC_CONFIG_FILES): Remove intl/Makefile.

2002-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* copy-message.pl: Support information substitution.
	* copy-message: New file.
	* ad.append: Adjust to copy-message.pl new uses.
	* Makefile.in: Regenerate.

2002-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2002-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gtstream.h: Support both <sstream> and <strstream.h>.
	(gtstream): New type.
	(gtout::operator<<): Change ostrstream
	to gtstream.  Remove ends and freeze.
	* error.h (ErrorGeneric::ErrorGeneric(ostrstream),
	ErrorGeneric::ErrorGeneric(const char *, T1),
	ErrorGeneric::ErrorGeneric(const char *, T1, T2),
	ErrorGenericSyntax::ErrorGenericSyntax(ostrstream),
	ErrorGenericCommandLine::ErrorGenericCommandLine(ostrstream),
	ErrorGenericFile::ErrorGenericFile(ostrstream)): Likewise.
	* error.cc (ErrorGeneric::ErrorGeneric(ostrstream)): Likewise.
	* gentree.cc (HyperTreeDraw::Draw, HyperListDraw::Draw): Likewise.
	* khdoc.cc (ThrowErrorMessage, ThrowErrorTag1, ThrowErrorTag2):
	Likewise.

	* scripts/version: Bump version number to 6.0.1.

2002-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add comment.

	* gentree.cc (FindDir): Remove default argument.
	* statwin.cc (khStatusWindow::DrawStatusBar, 
	khURLWindow::DrawStatusBar, khURLWindowWithFind::DrawStatusBar,
	khStatusWindowWithFind::DrawStatusBar): Likewise.

2002-06-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure: Regenerate.

2002-06-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add CXXAC_HAVE_MUTABLE.

2002-06-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

	* scripts/version: Bump version number to 6.0.0.

2002-05-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* po/Makefile.in.in: Fix cat-id-tbl.c location.

2002-05-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cstrlib.h: Include <cstdio> for FreeBSD.

2002-05-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/locateheader.pl: Stop searching when a match is found.

2002-05-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/locateheader.pl: Remove temporary files.

2002-05-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/locateheader.pl: Only deal with line beginning with "#".

2002-05-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2002-05-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure: Regenerate.

2002-05-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/locateheader.pl: New file.
	* configure.in: Use it.
	* FILELIST: Add scripts/locateheader.pl.
	* scripts/makepkg-real: Likewise.
	* configure: Regenerate.

2002-05-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2002-05-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure: Regenerate.

2002-05-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Don't use non-portable test -e option.
	* configure.in: Likewise.
	* Makefile.in: Regenerate.

	* scripts/copy-message.pl: Fix multi-line msgstr output bug.

2002-05-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 5.13.0.

2002-05-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.cc (dump_core): Mark string.
	(new, new[], malloc, calloc, realloc): Add comment.

	* gentree.cc (ExpandEscape): Remove.

2002-05-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* UNICODE: Update.

2002-05-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2002-05-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (HandleChdirError): Use strerror instead of sys_nerr,
	sys_errlist.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* statwin.cc (DrawStatusBarHelper): Update comment.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* scrnman.cc (NCScreenManager::NCScreenManager): Initialize ctrlWin.
	(NCScreenManager::ProcessCtrl): New member function.
	* scrnman.h (NCScreenManager::ctrlWin): New member data.
	(NCScreenManager::ProcessCtrl): Declare.
	* khwin.cc (khScreenManagerReadKeyboard): Use it.

	* statwin.cc (DrawStatusBarHelper): Update comment.
	(khURLWindowWithFind::statKeyCtrlF): New member data.
	(khURLWindowWithFind::ProcessCtrl): New member function.
	(khURLWindowWithFind::khURLWindowWithFind): Use SetCtrlWindow.
	* statwin.h (khURLWindowWithFind::statKeyCtrlF,
	khURLWindowWithFind::ProcessCtrl): Declare.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* khwin.cc (khHyperWindowWithFind::ProcessKey): Fix control key
	handling.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::ProcessHypertext): Fix compiler warning.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* khdoc.cc (HyperDocument::ProcessHypertext): Implement Unicode
	support for preformatted text.
	(HyperDocument::DrawBegin): Clear numIndent.
	(HyperDocument::DrawCharSub, HyperDocument::DrawWCharSub): Use
	NextLine.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Update.
	* pkgsrc/NEWS.src: Update.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h (NCURSESAC_ENABLE_MOUSE): Add.
	* setupcurses.h: Adjust.
	* config.h.in: Regenerate.
	* configure: Likewise.

	* pkgsrc/NEWS.src: Update.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add --disable-mouse.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.cc (GetWStringLastCharAtPos): Rename from...
	(GetWStringWidthFirstCharAtPos): ...here.
	(GetWStringWidthLastCharAtPos): New function.
	* strmisc.h (GetWStringLastCharAtPos,
	GetWStringWidthLastCharAtPos): Declare
	(GetWStringWidthFirstCharAtPos): Remove declaration.
	* khwin.cc (khHyperWindowWithFind::ProcessKey): Fix find mode
	trigger logic.
	* editbox.cc (EditBox::ProcessKey): Fix combining character input
	logic.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::DrawCharSub, 
	HyperDocument::DrawWCharSub): Update numChar.
	* pkgsrc/NEWS.src: Update.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

	* scripts/version: Bump version number to 5.11.0.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (HyperWindow::MatchSubString): Change return type to bool.
	Use new Anchor link text information.
	* khwin.h (HyperWindow::MatchSubString): Adjust declaration.

	* miscobj.cc (draw_entity): Check USE_UTF8_MODE.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::Show): Implement Unicode support.

2002-05-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Call init_entity_table.

2002-05-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (HelpInst): Don't display -iau, -icu, -ifu information.

2002-05-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* UNICODE: Update.

	* khdoc.cc (HyperDocument::DrawString): Update link text.  Use
	DrawCharSub.

2002-05-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* UNICODE: Update.

	* khwin.cc (HyperWindow::ProcessKey): Update comment.

2002-05-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* pkgsrc/NEWS.src: Update.

	* editbox.cc (EditBox::Show): Add comment.

	* khdoc.cc (entity_info, entity_table, init_entity_table): Move to
	...
	* miscobj.cc: ...here.  Define ERR.
	(entity_info): Add wchar_t field.
	(entity_table): Adjust.
	(init_entity_table): Adjust.
	(get_entity, get_wc_entity, draw_entity): New functions.
	(ACSFallBackSelect, ACSFallBack): Remove.
	* khdoc.h (entity_id): Move to...
	* miscobj.h: ...here.
	(ACSFallBack, ACSFallBackSelect): Remove.
	(get_entity, get_wc_entity, draw_entity): Declare.
	* gentree.cc (HyperTreeDraw::GenerateSymLinkHTML,
	HyperTreeDraw::RecursiveGenerateHTML): Adjust.
	* khdoc.cc (HyperDocument::ProcessLI,
	HyperDocument::ProcessHypertext, HyperDocument::DrawEntityChar): Adjust.

	* khwin.cc (scrollBarC, scrollBlockC): Change to...
	(scrollBarID, scrollBlockID): ...these.
	(khScreenManager::khScreenManager): Adjust.
	* scroll.cc: Update copyright.  Include "strmisc.h".
	(scrollBarC, scrollBlockC): Change to...
	(scrollBarID, scrollBlockID): ...these.
	(HScrollBar::DrawScrollBar, VScrollBar::DrawScrollBar): Adjust.

	* khdoc.cc (HyperDocument::ProcessHypertext): Fix printable test.
	* khwin.cc (HyperWindow::Highlight): Implement Unicode support.
	* miscobj.cc (k_waddch_int): Likewise.

	* khdoc.cc (HyperDocument::DrawCharSub): Split out from...
	(HyperDocument::DrawChar): ...here.
	(HyperDocument::DrawWCharSub): Move from...
	(HyperDocument::DrawWChar): ...here.
	(HyperDocument::DrawString(WINDOW *, const char *)): Implement 
	Unicode support.
	(HyperDocument::DrawString(WINDOW *, const string &)): Use
	const char * version.
	* khdoc.h (HyperDocument::DrawCharSub, HyperDocument::DrawWCharSub):
	Declare.

	* miscobj.h (Anchor): Add linkText field.
	* khdoc.cc (HyperDocument::DrawChar): Record link text.
	(HyperDocument::DrawAEnd): Clear procA.

	* khwin.cc (khHyperWindowWithFind::ProcessKey): Don't trigger Find
	mode on special keys.

	* utf8dec.h: Include <cwchar>, <cwctype> only when USE_UTF8_MODE.

2002-05-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc: Update copyright.
	(PrintBanner): Update copyright.
	(Features): Display availability of d_type optimization.

2002-05-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure: Regenerate.

2002-05-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Test C library using C mode.  Fix d_type test to
	support C mode.

2002-05-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2002-05-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure: Regenerate.

	* pkgsrc/NEWS.src: Update.

2002-05-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (HyperWindow::FitHighlightHorizontal): New member
	function.
	(HyperWindow::FitHighlightTop, HyperWindow::FitHighlightMiddle,
	HyperWindow::FitHighlightBottom): Use it.
	* khwin.h (HyperWindow::FitHighlightHorizontal): Declare.

2002-05-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* pkgsrc/README.src: Update.

2002-05-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* gentree.cc (HyperListDraw::Draw): Improve debugging code.

	* khwin.cc (HyperWindow::ProcessKey): Fix startSection shadowing bug.

	* pkgsrc/NEWS.src: Update.

2002-05-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h: Add CLIB_HAVE_D_TYPE.
	* configure.in: Add dirent::d_type test.
	* dirobj.cc: Fix dirent::d_type logic.
	* dirobj.h (DirectoryEntry::IsDir, DirectoryEntry::IsSymLink,
	DirectoryEntry::GetName, DirectoryEntry::GetLink, 
	DirectoryEntry::GetLinkDest, DirectoryEntry::GetNameStr, 
	DirectoryEntry::GetLinkStr, DirectoryEntry::GetLinkDestStr, 
	DirectoryEntry::GetModTime, DirectoryEntry::GetChangeTime, 
	DirectoryEntry::HasNumLink, DirectoryEntry::GetNumLink): Make
	constant member.
	* dirtree.cc (operator<(DirectoryEntry &, DirectoryEntry &)):
	Accept constant parameters.
	* dirtree.h (operator<(DirectoryEntry &, DirectoryEntry &)):
	Adjust declaration.
	* scandir.cc (RecursiveFullScanDir, RecursiveSmartScanDir): 
	Make use of existing struct dirent information.
	* config.h.in: Regenerate.
	* configure: Likewise.

2002-05-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* acconfig.h: Add CLIB_HAVE_ISWPRINT.
	* config.h.bot: Adjust.
	* configure.in: Check for iswprint function.
	* config.h.in: Regenerate.
	* configure: Likewise.

2002-05-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 5.9.0.

2002-05-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* khdoc.cc: Only include <cwchar>, <cwctype> when in UTF-8 mode.
	* miscobj.cc: Likewise.
	* strmisc.cc: Likewise.

2002-05-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.in: Regenerate.
	* configure: Likewise.

2002-05-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Revert previous change.  Display alternate directory
	for kcd initialization scripts.
	* kcd-inst.in: Update copyright.  Check alternate directory.
	* ad.prepend: Likewise.
	* ad.append: Likewise.

2002-05-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Set sysconfdir to /etc only it is writable.

2002-05-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure: Regenerate.

2002-05-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Remove user-specific installation.
	* configure.in: Likewise.
	* kcdmain.cc: Depreciate -iau, -icu, -ifu options.
	* pkgsrc/README.src: No longer document -iau, -icu, -ifu options.
	* pkgsrc/kcd.1.src: Likewise.

2002-05-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Remove user-specific installation.

2002-05-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* miscobj.cc (k_waddch_int): Cast character to unsigned.
	* setupcurses.h (my_waddstr, my_waddnstr): Remove.  Superseded by
	k_wadd* functions.

2002-05-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (curCol, barStack, NewLineUpdateRowCol,
	GenerateSymLinkHTML, GenerateDirHTML, RecursiveGenerateHTML,
	GenerateHTML): Move inside HyperTreeDraw.  Use new khdoc
	Draw* scheme.
	(HyperTreeDraw): New class.
	(CD): Adjust.
	* khdoc.cc (HyperDraw::~HyperDraw): New destructor.
	(HyperDocument::DrawBegin): Call init_entity_table.
	(HyperDocument::DrawChar): Use isprint.
	(HyperDocument::DrawAEnd): Fix highlight location.
	* khdoc.cc (HyperDraw::~HyperDraw): Declare.
	* pkgsrc/NEWS.src: Update.

2002-05-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::ProcessHypertext): Add comment.
	(HyperDocument::DrawEntityChar): New member function.
	* khdoc.h (entity_id): New enum.
	(HyperDocument::DrawEntityChar): Declare.

2002-05-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2002-04-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::ProcessHypertext, 
	HyperDocument::DrawChar): Add comments.

2002-04-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::DrawChar,
	HyperDocument::DrawString): Add comments.

2002-04-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (HyperListDraw::Draw): Comment out debugging code.

2002-04-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc: Update copyright.
	(GenerateDirListHTML): Remove.
	(HyperListDraw): New class.
	(CD): Use it.  Make match_list lifetime the entire function.
	* khdoc.cc (HyperDocument::DrawBegin): Add WINDOW * parameter.
	Initialize numChar.  Set cursor to top-left position.
	(HyperDocument::DrawChar): Update curColumn;
	(HyperDocument::DrawACall): Rename to DrawACallBegin.  Fix logic. 
	(HyperDocument::DrawAHRef): Rename to DrawAHRefBegin.  Fix logic. 
	(HyperDocument::DrawAEnd): New member function.
	* khdoc.h (HyperDocument::DrawBegin): Add WINDOW * parameter.
	(HyperDocument::DrawACall): Rename to DrawACallBegin.
	(HyperDocument::DrawAHRef): Rename to DrawAHRefBegin.
	(HyperDocument::DrawAEnd): Declare.

2002-04-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khyper.cc (HyperDocument::HyperDocument()): Add argument of type
	HyperDraw *.  Set drawObj.
	(HyperDocument::InternalLoadDocument): Set drawObj.
	(HyperDocument::FormatDocument): Adjust.
	(HyperDocument::DrawSetSize, HyperDocument::DrawBegin,
	HyperDocument::DrawSetTitle, HyperDocument::DrawSetItalic,
	HyperDocument::DrawClearItalic, HyperDocument::DrawSetBold,
	HyperDocument::DrawClearBold, HyperDocument::DrawChar,
	HyperDocument::DrawString, HyperDocument::DrawAName, 
	HyperDocument::DrawACall, HyperDocument::DrawAHref): New member
	functions.
	* khyper.h (HyperDraw): New class.
	(HyperDocument::drawObj): New member data.
	(HyperDocument::HyperDocument()): Add argument of type HyperDraw *.
	(HyperDocument::DrawSetSize, HyperDocument::DrawBegin,
	HyperDocument::DrawSetTitle, HyperDocument::DrawSetItalic,
	HyperDocument::DrawClearItalic, HyperDocument::DrawSetBold,
	HyperDocument::DrawClearBold, HyperDocument::DrawChar,
	HyperDocument::DrawString, HyperDocument::DrawAName, 
	HyperDocument::DrawACall, HyperDocument::DrawAHref): New member
	functions.

2002-04-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::ProcessKey): Don't call wcwidth, iswprint
	unless in UTF8 mode.
	* pkgsrc/NEWS.src: Update.

2002-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.h: Fix typo.

2002-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* khdoc.cc (HyperDocument::HyperDocument): New constructor.
	(HyperDocument::ReadFile): Do not define when both TRIM_NO_DOC_STREAM
	and TRIM_NO_DOC_FILE are not defined.

	* khdoc.h  (HyperDocument::HyperDocument): Declare.
	(HyperDocument::ReadFile): Do not define when both TRIM_NO_DOC_STREAM
	and TRIM_NO_DOC_FILE are not defined.

2002-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure: Regenerate.

	* khdoc.cc (ThrowErrorMessage, ThrowErrorTag1, ThrowErrorTag2,
	ThrowErrorTagInside, ThrowErrorNestedTag, ThrowErrorTagWithout,
	ThrowErrorSymbolNeeded, ThrowErrorEndOfFile, ThrowErrorCannotFind,
	HyperDocument::HyperDocument(char *, int),
	HyperDocument::LoadDocument(char *, int),
	HyperDocument::InternalDocument(char *, int),
	HyperDocument::ProcessLI(char *, int, WINDOW *, int),
	HyperDocument::ProcessA(char *, int, WINDOW *, int),
	HyperDocument::ProcessHypertext(char *, int, WINDOW *),
	HyperDocument::ReadATag): Change some variables type from int to
	size_t.
	(HyperDocument::HyperDocument(const string &),
	HyperDocument::LoadDocument(const string &),
	HyperDocument::InternalDocument(const string &)): Comment out if
	TRIM_NO_DOC_FILE defined.  Change some variables type from int to
	bool.
	(HyperDocument::HyperDocument(FILE *),
	HyperDocument::LoadDocument(FILE *),
	HyperDocument::InternalDocument(FILE *),
	HyperDocument::ReadFile(gzFile)): Comment out if TRIM_NO_DOC_STREAM
	defined.  Change some variables type from int to size_t.

	* khdoc.h (HyperDocument::bufferSize,
	HyperDocument::HyperDocument(char *, int),
	HyperDocument::LoadDocument(char *, int),
	HyperDocument::InternalDocument(char *, int),
	HyperDocument::ProcessLI(char *, int, WINDOW *, int),
	HyperDocument::ProcessA(char *, int, WINDOW *, int),
	HyperDocument::ProcessHypertext(char *, int, WINDOW *)): Change some
	variables type from int to size_t.
	(HyperDocument::HyperDocument(const string &),
	HyperDocument::LoadDocument(const string &),
	HyperDocument::InternalDocument(const string &)): Comment out if
	TRIM_NO_DOC_FILE defined.
	(HyperDocument::HyperDocument(FILE *),
	HyperDocument::LoadDocument(FILE *),
	HyperDocument::InternalDocument(FILE *),
	HyperDocument::ReadFile(gzFile)): Comment out if TRIM_NO_DOC_STREAM
	defined.

2002-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc: Update copyright.
	(ProcessKey): Handle when TRIM_NO_DOC_FILE is defined.

2002-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* config.h.bot: Define TRIM_NO_DOC_FILE, TRIM_NO_DOC_STREAM.
	* config.h.in: Regenerate.

2002-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.h: Update comment.  Update copyright.

2002-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* dirobj.cc: Add dirent::d_type handling.

2002-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in (append_startup): Merge into modify_startup_real.
	Add comments.

2002-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Update.

	* configure.in: Update copyright.

	* configure: Regenerate.

2002-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Tidy.

	* configure.in: Fix typo in --enable-fhs error message.

	* kcd-inst.in: Add comments.  No longer accept invalid options.

2002-04-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Port 5.7.1 strftime change.
	* pkgsrc/NEWS.src: Update.

2002-01-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc: Update copyright.

2002-01-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::ProcessA,
	HyperDocument::ProcessHypertext, HyperDocument::ReadATag): 
	Adjust to new Seek* exception scheme.

2002-01-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintErrorCommand, PrintErrorMessage, ExtraChar,
	InvalidValue, InvalidAttr, InvalidColor, MissingOn, EqualNotFound,
	QuoteNotFound, YesNoNotFound, NumberRequired, BlankEntry): Add
	const to buf parameter.
	(IsYesNo, ReadUnsigned): Add const to buf parameter.  Change type
	of from and len to size_t.
	(SeekPastEqualSignOrThrow, SeekEndQuoteOrThrow): New functions.
	(ConfigYesNo, ConfigUnsigned, ConfigStringList,
	ConfigClearStringList, ConfigColorAttr, ConfigColor, ConfigBWAttr,
	ConfigFunc): Change type of from and len to size_t.  Adjust to new
	Seek* exception scheme.
	(LoadConfig): Adjust to new SeekNonSpace return scheme.

2002-01-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* seek.cc (SeekChar, SeekString, SeekCaseString, SeekTokenEnd,
	SeekConfigTokenEnd, SeekNonSpace, SeekPastEqualSign): Change
	return type to size_t.  Throw exception upon failure.
	(SeekCaseChar, SeekCaseCharIgnoreEscape): New functions.
	seek.h: (SeekChar, SeekString, SeekCaseString, SeekTokenEnd,
	SeekConfigTokenEnd, SeekNonSpace, SeekPastEqualSign): Adjust.
	(SeekCaseChar, SeekCaseCharIgnoreEscape): Declare.

2002-01-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* error.h (ErrorSeek): New class.

	* buffer.cc, error.h, gzfileio.cc, seek.cc: Update copyright.

2002-01-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gzfileio.cc (k_gzread, k_gzwrite): Add static_cast to remove
	warnings.

2002-01-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.cc: Include <cstdarg>.

2001-11-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.h (HyperDocument): Update comments.

2001-11-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (GetSourceLine, HyperDocument::ALLOCSIZE,
	HyperDocument::ALLOCINC): Change various types to size_t.
	* khdoc.h (GetSourceLine, HyperDocument::ALLOCSIZE,
	HyperDocument::ALLOCINC): Change various types to size_t.

2001-11-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* seek.cc (SeekCharIgnoreEscape, SeekChar, SeekString,
	SeekCaseString, SeekTokenEnd, SeekConfigTokenEnd, SeekNonSpace,
	SeekPastEqualSign, IsEmpty): Change various parameters to size_t.
	(IsEmpty): Change return type to bool.
	* seek.h (SeekCharIgnoreEscape, SeekChar, SeekString,
	SeekCaseString, SeekTokenEnd, SeekConfigTokenEnd, SeekNonSpace,
	SeekPastEqualSign, IsEmpty): Change various parameters to size_t.
	(IsEmpty): Change return type to bool.

2001-11-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.h (dump_bytes::dump_bytes): Change parameters to size_t.

2001-11-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintStringList, ConfigColorAttr, ConfigColor,
	ConfigBWAttr, LoadConfig): Change various variables to size_t.
	* gzfileio.cc (k_gzread, k_gzwrite, k_gzgetsu, k_gzgets): Likewise.
	* gzfileio.h (k_gzwrite, k_gzread, k_gzgetsu): Likewise.
	* seek.cc (SeekString, SeekCaseString): Likewise.

2001-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in: Use KCD_INIT shell variable.

2001-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Update.

2001-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Update.

2001-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in: Remove local mode.

	* pkgsrc/NEWS.src: Update.

2001-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd.sh.userinit, kcd.csh.userinit, Makefile.userinst: Remove.
	* FILELIST, INSTALL, ad.append, scripts/makepkg-real: Adjust.
	* Makefile.in: Regenerate.

	* pkgsrc/NEWS.src: Update.

2001-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Update.

2001-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.userinst2: Remove.
	* FILELIST, Makefile.userinst, makepkg-real: Adjust.

2001-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.inst: Remove.
	* FILELIST, Makefile.in, ad.append, scripts/makepkg-real: Adjust.

	* configure: Regenerate.

	* UNICODE: Update library filename with newer libutf8.

2001-07-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in (append_startup): New function, split out from ...
	(modify_startup_real): ... here.

2001-07-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Display sysconfdir.

	* pkgsrc/NEWS.src: Add new entry.

2001-07-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/uploadfile: Update copyright year.  Save $PATH variable.
	Use scp instead of scp1.  Update sourceforge hostname and directory
	name.

2001-07-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/spec.src: Add kcd-inst.
	* scripts/uploadfile: Set PATH to that kcd is built with system
	GCC.

2001-07-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makepkg-real: Add directory name to rpcp.

2001-07-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* makepkg-release: Add directory name to commit command.

2001-07-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 5.7.0.

2001-07-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Update.

	* kcd-inst.in: Correct filename for kcd initialization files.

2001-07-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in: Fix SYSCONFDIR.  Add comment.

2001-07-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in: Fix mode check error.
	(modify_startup_real): Print filename if marker found.

2001-07-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (PrintBanner): Update copyright year.

2001-07-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Install kcd-inst.
	* Makefile.in: Regenerate.

	* configure.in: Use CXXAC_HEADER_ALL.
	* acinclude.m4/cxxac.m4: Update comments.  Update copyright year.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

	* buffer.cc, conffile.cc, cstrlib.cc, cstrlib.h, cxxlib.cc,
	editbox.cc, error.cc, khdoc.cc, khwin.h, list.h, scandir.cc,
	strmisc.cc, utf8dec.h, utf8test.cc: Update copyright year.
	Use new C++ headers.
	* gtstream.h, kcdmain.cc, miscobj.cc, scandir.h: Use new
	C++ headers.

	* cstrlib.cc (k_fnmatch): Bypass HAVE_FNMATCH test.

2001-07-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.h: Update copyright year.
	(DirConfig): Add == and != operator.

	* dirutil.h: Update copyright year.  Add USING_NAMESPACE_STD.

	* gtstream.h (gtout): Remove ostream base class.
	(gtout::form, gtout::vform): Remove.
	(gtout::operator<<(ios&(*)(ios&))): Pass os instead of *this.
	* gtstream.cc: Update copyright year.
	(gtout::form, gtout::vform): Remove.

	* pkgsrc/version.cc.src: Add newline to the last line.

2001-07-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Update to autoconf 2.50.  Rename _AC_ECHO to
	_AS_ECHO.  Call AC_ISC_POSIX early.
	* configure: Regenerate.

2001-07-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makelink: Add -f option to rf.  Update copyright year.

2001-07-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2001-07-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Add kcd-inst.
	* Makefile.userinst: Install kcd-inst.

	* kcd-inst.in: Detect default mode.
	(version_and_exit): Rename from version.  Call exit.
	(help_and_exit): Rename from help.  Improve message.
	(not_available, default_mode): New variables.

	* Makefile.in, Makefile.userinst, cxxlib.h, dirutil.cc, kcd-inst.in,
	kcdmain.cc, miscobj.cc, scandir.h, setupcurses.h: Update
	copyright year.

2001-07-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in (help): Improve program summary.
	Set run_file_sh and run_file_csh for local mode.

2001-07-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in (version): New subroutine.
	(help): Display program summary.
	Detect and process options -v and --version.

2001-07-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.in: Install kcd-inst.

	* kcd-inst.in: Move subroutines to the beginning of file.
	Detect the presence of "For kcd" marker.  Display help using
	subroutine help.

2001-07-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Improve.

2001-07-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* setupcurses.h: Add USING_NAMESPACE_STD.

	* cxxlib.h, kcdmain.cc, scandir.h: Use CXX__HEADER_iostream.

	* dirutil.cc (ExpandDirectory): Adjust string::append arguments.

	* miscobj.cc: Undefine ERR, OK.

	* scripts/commit: Set EDITOR environment variable if not done so.

2001-07-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* UNICODE: Improve.

	* scripts/commit: Update copyright year.
	Prefix rpcp with scripts directory name.

2001-04-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gtstream.h: Update copyright.

2000-10-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Fix grep check.

2000-10-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Detect unknown file.

2000-10-25  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit, scripts/makelink, scripts/makepkg,
	scripts/makepkg-release, scripts/uploadfile: Call scripts/dircheck.

2000-10-25  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in: Use English module.  Implement.

	* scripts/commit: Add PACKAGE variable.

2000-10-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcd-inst.in: New file.
	* FILELIST, scripts/makepkg-real: Add kcd-inst.in.
	* configure.in: Process kcd-inst.in.
	* configure: Regenerate.

	* scripts/miscout: Add space after #!.

	* TODO: Update.

2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (DirListCD): Split out from ...
	(CD): ... here.

2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.h (KcdConfig): Fix type of cfgShowListThreshold.

2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (configInfo): Fix error in ShowListThreshold entry.

2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gzfileio.cc (gzopen): Move definition from ...
	* gzfileio.h (gzopen): ... here.  Don't inline.

2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.cc: Remove typo.

2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ErrorSyntaxIgnored): New class.
	(PrintErrorMessage): Throw ErrorSyntaxIgnored.
	(BlankEntry): New function.
	(PrintErrorMessage, ExtraChar, InvalidValue, InvalidAttr,
	InvalidColor, MissingOn, EqualNotFound, QuoteNotFound,
	YesNoNotFound, NumberRequired, IsYesNo, ReadUnsigned, ConfigYesNo,
	PrintYesNo, ConfigUnsigned, PrintUnsigned, ConfigStringList,
	PrintStringList, ConfigClearStringList, ConfigColorAttr,
	PrintColorAttr, ConfigBWAttr, PrintBWAttr, ConfigColor,
	PrintColor): Change type of cmd to const char *.  Use exception
	handling.
	(ConfigFunc): Change type of cmd to const char *.
	(ConfigInfo): Change type of cfgName to const char *.
	(LoadConfig): Catch exception.
	
2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.h (dump_bytes): Change type of buffer to const char *.

	* error.cc: Fix comment.

2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* conffile.cc (ConfigValue, ConfigFunc): New struct.
	(ConfigInfo): Use them.
	(cfgFuncYesNo, cfgFuncUnsigned, cfgFuncStringList,
	cfgFuncClearStringList, cfgFuncColorAttr, cfgFuncBWAttr,
	cfgFuncColor): New variables.
	(configInfo): Adjust.
	(ConfigYesNo, PrintYesNo, ConfigUnsigned, PrintUnsigned,
	ConfigStringList, PrintStringList, ConfigClearStringList,
	ConfigColorAttr, PrintColorAttr, ConfigBWAttr, PrintBWAttr,
	ConfigColor, PrintColor): Adjust parameter list.
	(LoadConfig, PrintConfig, PrintAttrConfig): Adjust.

	* confobj.h (DirConfig): Change type of globDot, globPath to bool.
	(AttrConfig): Change type of all bool fields to bool.

2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.inst: Check "For kcd" string case-insensitively.  Use
	lower case kcd.
	* Makefile.userinst2: Likewise.
	* INSTALL: Update.

2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.userinst: Add ash shell test.  Simplify.
	* INSTALL: Update.
	* pkgsrc/NEWS.src: Update.

2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.userinst: Modify .bashrc, .cshrc and .zshrc instead of
	.profile, .login and .zprofile.

	* TODO: Update.

2000-10-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Reorganize.
	* pkgsrc/NEWS.src: Update.

	* spec.src: Set mandir instead of man1dir.

2000-10-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makepkg-real: Regenerate po files.

2000-10-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src, pkgsrc/NEWS.src: Update.

2000-10-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	Based on FreeBSD port changes:
	* pkgsrc/README.src, pkgsrc/kcd.1.src: Update.

2000-10-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	Based on FreeBSD port changes:
	* ad.rule: Define KCD_ETCDIR for conffile.cc.
	* conffile.cc: Load global configuration file from KCD_ETCDIR.

2000-10-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.in: Regenerate.

	* TODO: Update.
	* pkgsrc/NEWS.src: Update.

2000-10-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add FHS tests.  Set sysconfdir to /etc/$prefix if
	prefix begins with /opt/.  Use FHS man page directory.
	* acconfig.h: Add HAVE_FHS.
	* configure, config.h.in: Regenerate.

2000-10-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.cc: Don't check _LIBC.

2000-10-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.cc: Use <malloc.h> inclusion logic found in gettext.

2000-10-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Fix * expansion logic.

2000-10-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/version: Bump version number to 5.5.1.

2000-10-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2000-10-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::ProcessKey): Fix control key processing.

2000-10-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ABOUT-NLS: Update to a newer version.

	* TODO: Update.

2000-09-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* statwin.cc (khStatusWindowWithFind::ProcessKey): Uncomment code.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 5.5.0.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirtree.cc (LoadDirFile, WriteDirFile): Use ErrorGenericFile
	template constructor.
	* gentree.cc (CD): Likewise.
	* kcdmain.cc (InitNewDir): Likewise.
	* khdoc.cc (HyperDocument::InternalLoadDocument(const string &):
	Likewise.
	* khwin.cc (khHyperWindowWithFind::ProcessCall): Likewise.

	* dirutil.cc (ExpandDirectory): Use ErrorGenericSyntax
	template constructor.
	* khdoc.cc (HyperDocument::ProcessHypertext,
	HyperDocument::FindNextLink): Likewise.
	* khwin.cc (HyperWindow::PrepareDisplay): Likewise.

	* scandir.cc (DoPartialScanDir): Use ErrorGenericCommandLine
	template constructor.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.h (ErrorGeneric, ErrorGenericSyntax, ErrorGenericCommandLine,
	ErrorGenericFile): Add template constructors.

	* gtstream.cc (gtout(ostream &, const string &)): Define.
	(gtout(ostream &, const char *)): New constructor.
	* gtstream.h (gtout(ostream &, const string &)): Remove definition.
	(gtout(ostream &, const char *)): Declare.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::ProcessA): Clear procA for
	TYPE_SECTION.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.cc: Don't include <stdio.h>.
	(ErrorGeneric::ErrorGeneric(const char *),
	ErrorGeneric::ErrorGeneric(Buffer &)
	ErrorGeneric::ErrorGeneric(ostrstream &)): Define.
	(operator<<(ostream &, const dump_bytes&): Add const to dump_bytes&.
	* error.h (ErrorGeneric::ErrorGeneric(const char *),
	ErrorGeneric::ErrorGeneric(Buffer &)
	ErrorGeneric::ErrorGeneric(ostrstream &)): Renive definition.
	(dump_bytes): Update signature of friend.
	(operator<<(ostream &, const dump_bytes&): Add const to dump_bytes&.

	* khdoc.cc (HyperDocument::ProcessA): Reorganize.
	* khdoc.h (TYPE_GOTO_OR_EXEC): New constant variable.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* kcdmain.cc (Features): Report USE_UTF8_MODE for UTF-8 support
	status.
	* pkgsrc/NEWS.src: Update.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src, pkgsrc/kcd.1.src: Remove internal error
	description.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirutil.cc (ExpandDirectory): Don't report bad directory as
	internal error.
	* conffile.cc (ConfigStringList, ConfigClearStringList): Catch
	ErrorGenericSyntax exception.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.h (ErrorGeneric::ErrorGeneric(ostrstream &)): Terminate
	string.
	* khdoc.cc (ThrowErrorMessage, ThrowErrorTag1, ThrowErrorTag2):
	Don't terminate string here.

	* kcdmain.cc (InitNewDir): Mark string.

	* kcdmain.cc (mainReal): Quote arguments in message.
	* scandir.cc (DoPartialScanDir): Quote configuration names.

	* khdoc.cc (HyperDocument::InternalLoadDocument(const string &):
	Fix error message.

	* scripts/utf-quotes.pl: Skip line containing eval.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::ProcessHypertext): Initialize bufChar_.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (GetSourceLine): Define only if TRIM_NO_CHECK is not
	defined.
	(AppendDumpBytes, BufferDumpBytes): Remove.
	(ThrowErrorMessage): New function.
	(ThrowErrorTag1, ThrowErrorTag2): Use dump_bytes.
	(HyperDocument::ProcessHypertext): Use ThrowErrorMessage.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.cc (errdumpbytes): Remove.
	* error.h (errdumpbytes): Remove.

2000-09-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.cc: Remove TODO list.
	(NoMemoryError): Remove.
	* error.h (NoMemoryError): Remove.

	* scandir.cc (DoPartialScanDir): Fix error message.

2000-09-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Fix error for version 5.3.2, 5.3.3.  Add missing
	entries for 4.7.13, 4.7.11.

2000-09-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* config.h.in: Regenerate.

2000-09-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/uploadfile: New file.

2000-09-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* dirtree.cc (ReadSaveFile): Don't use Buffer.
	* dirutil.cc: Don't include "buffer.h".
	(ExpandDirectory): Don't use Buffer.
	* khwin.cc (HyperWindow::PrepareDisplay): Don't use Buffer.

	* config.h.bot: Add TRIM_NO_CHECK.
	* khdoc.cc (AppendDumpBytes, ThrowErrorTagInside,
	ThrowErrorNestedTag, ThrowErrorTagWithout, ThrowErrorSymbolNeeded,
	ThrowErrorEndOfFile, ThrowErrorTag1, ThrowErrorTag2): New functions.
	(BufferDumpBytes): Use AppendDumpBytes.
	(HyperDocument::ProcessLI, HyperDocument::ProcessA,
	HyperDocument::ProcessHypertext, HyperDocument::ReadATag) Use new
	functions.
	(HyperDocument::FindNextLink): Don't use Buffer.

2000-09-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Fix extension for bzip2ed file.
	* Makefile.in: Regenerate.

	* pkgsrc/NEWS.src: Update.
	* scripts/version: Bump version number to 5.3.3.

2000-09-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: bzipped man page support.
	* Makefile.in: Regenerate.

	* gentree.cc (GenerateHTML, GenerateDirListHTML): Use %e for day of
	month format.
	* kcdmain.cc (PrintBanner): Likewise.

	* scripts/en_GB.pl: Handel %e.

2000-09-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/spec.src: Merge RPM_OPT_FLAGS, relocatable support from
	Max Heijndijk <cchq@wanadoo.nl>.

2000-09-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/spec.src: Don't set prefix during compile.

	* po/POTFILES.in: Add confobj.cc, confobj.h, cstrlib.cc, dirtree.cc
	dirtree.h, dirutil.cc, dirutil.h.

2000-09-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.
	* scripts/version: Bump version number to 5.3.2.

2000-09-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h: Remove KCD_LOCALEDIR.
	* configure.in: Likewise.
	* ad.prepend: Add localedir.
	* ad.rule: Define KCD_LOCALEDIR for kcdmain.cc.
	* Makefile.in, config.h.in, configure: Regenerate.

2000-09-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Fix typo.
	* Makefile.in: Regenerate.
	* pkgsrc/NEWS.src: Update.
	* scripts/version: Bump version number to 5.3.1.

2000-09-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 5.3.0.

2000-09-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* kcdmain.cc (mainReal): Use putenv if setenv is not available.

2000-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (entity_info): New struct.
	(entity_table): New variable.
	(init_entity_table): New function.
	(HyperDocument::ProcessHypertext): Use them.

2000-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::ProcessKey): Fix typos.

2000-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (LoadConfig): Remove support for old-style SkipDir
	syntax.

2000-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* khdoc.cc (HyperDocument::ProcessHypertext): Add framework for
	future combining character and wide character support.

2000-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::ProcessKey): Add comment.

2000-09-06  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* utf8dec.h (utf8_decode::extra_char): New member data.
	(utf8_decode::new_seq): Set extra_char.
	(utf8_decode::is_extra_char): New member function.
	* utf8dec.cc (utf8_decode::decode): Set extra_char.
	* editbox.cc (EditBox::ProcessKey): Display '?' for bad multibyte
	sequences.  Reprocess the character after bad sequence.
	* utf8test.cc: Likewise.

2000-09-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* utf8dec.cc (utf8_decode::decode): Process the whole 2 bytes
	multibyte sequence even it is invalid.  Fix for 5 bytes
	multibyte sequence.
	* utf8test.cc: New file.
	* FILELIST, scripts/makepkg-real: Add utf8test.cc.
	* pkgsrc/NEWS.src: Update.

2000-09-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Add scripts/en_GB.pl.
	* scripts/makepkg-real: Likewise.

2000-09-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Generate po/en_GB, po/en_GB.UTF-8.po.
	* configure.in: Add en_GB, en_GB.UTF-8.
	* scripts/en_GB.pl: New file.
	* scripts/utf-quotes.pl: Add message in the output.  Don't convert
	comments.
	* Makefile.in, configure: Regenerate.

2000-09-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Define KCD_LOCALEDIR.
	* acconfig.h: Add KCD_LOCALEDIR.
	* kcdmain.cc: Use KCD_LOCALEDIR.  Unset NLSPATH environment
	variable.
	* config.h.in, configure: Regenerate.

	* po/en_US.UTF-8.po: Remove from CVS.

2000-09-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.rule: Use intl instead of @INTLSUB@.
	* Makefile.in, configure: Regenerate.

2000-09-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Add empty row between rules.
	* Makefile.in: Regenerate.

2000-09-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::GetString): Initialize multibyte state.
	* khdoc.cc (HyperDocument::ProcessHypertext): Likewise.
	* khwin.cc (HyperWindow::MatchSubString): Likewise.
	* miscobj.cc (k_waddch_int): Likewise.
	* strmisc.cc (GetStringWidth): Likewise.

	* scandir.cc (CommandLineScanLog::PrintStartDirNotFound): Reformat
	error message.

	* scandir.cc (FullScanFromDir): Split from ...
	(FullScanDir): ... here.
	(SmartScanDir): React to changes in StartDir.
	* pkgsrc/NEWS.src.
	* TODO: Update.

2000-09-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gzfileio.cc (k_gzgetsu(gzFile, char *, int),
	k_gzgetsu(gzFile, Buffer &, int), k_gzgetsu(gzFile, Buffer &),
	k_gzgets(gzFile, char *), k_gzgets(gzFile, Buffer &)): Commented out.
	* gzfileio.h (k_gzgetsu(gzFile, char *, int),
	k_gzgetsu(gzFile, Buffer &, int), k_gzgetsu(gzFile, Buffer &),
	k_gzgets(gzFile, char *), k_gzgets(gzFile, Buffer &)): Likewise.

2000-09-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cstrlib.cc (k_getcwd): Reverse return code logic.

	* pkgsrc/NEWS.src: Update.

2000-09-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (GenerateHTML): Terminate string.
	(GenerateDirListHTML): Display HTML header properly.
	* gtstream.cc (gtout::form, gtout::vform): Terminate string.
	* khdoc.cc (BufferDumpBytes): Likewise.
	* pkgsrc/NEWS.src: Update.

2000-09-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc: Include <fcntl.h>, <sys/stat.h>, <sys/types.h> if
	DUMP_HTML.
	(CD): Don't define DUMP_HTML here.  Adjust debug file path.

	* gzfileio.cc (k_gzgets(gzFile)): Don't append 0 to the string.
	(k_gzgetsu(gzFile)): New function.
	* gzfileio.h (k_gzgetsu(gzFile)): Declare.
	* dirtree.cc (LoadDirHeader): Use k_gzgetsu(gzFile).

	* pkgsrc/NEWS.src: Update.

2000-09-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gzfileio.cc (k_gzgets(gzFile)): New function.
	* gzfileio.h (k_gzgets(gzFile)): Declare.
	* dirobj.cc: Don't include "buffer.h".
	(DirectoryEntry::DirectoryEntry(gzFile, char)): Use
	k_gzgets(gzFile).  Remove tempBuf.

2000-09-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cstrlib.cc (k_readlink): Rewrite.  Change parameter and return
	type.
	* cstrlib.h (k_readlink): Adjust declaration.
	* dirobj.cc (DirectoryEntry::Init): Adjust.  Remove len, tempName.

2000-09-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (DoPartialScanDIr): Use k_getcwd.  Remove cwdBuf.

2000-09-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (saveCwd): Change type to string.
	(RecursiveFindMatchDir, CD): Adjust.
	* gentree.h (saveCwd): Adjust declaration.
	* cxxlib.cc (dump_core): Adjust.
	* scandir.cc (PartialScanDir): Likewise.
	* kcdmain.cc (mainReal): Likewise.  Remove cwdBuf.  Use k_getcwd.

2000-09-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.cc (DirectoryEntry::DirectoryEntry(const char *)):
	Remove.
	* dirobj.h (DirectoryEntry::DirectoryEntry(const char *)):
	Remove declaration.
	(DirectoryEntry::UpdateLinkDest): Change parameter type to
	const string &.

2000-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cstrlib.cc: Add to CVS.

2000-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cstrlib.cc (k_getcwd): New function.
	* cstrlib.h (k_getcwd): Declare.
	* scandir.cc (ResolveSymLink): Use k_getcwd.

2000-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc: Tidy.

	* pkgsrc/NEWS.src: Update.

2000-09-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add ./intl to include path.
	* configure: Regenerate.

	* kcdmain.cc (mainReal): Don't check HAVE_LIBINTL_H.

	* po/en_US.UTF-8.po: Regenerate.

	* UNICODE: Update.

2000-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.
	* pkgsrc/NEWS.src: Likewise.
	* pkgsrc/README.src: Likewise.

2000-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.cc (tempStr): Remove.
	* error.h (tempStr, TEMP_SIZE): Remove.
	* conffile.cc (LoadConfig): Don't use tempStr.

2000-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (LoadConfig): Clarify error messages.

2000-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (LoadConfig): Fix link count test.

2000-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc: Include <wchar.h>, <wctype.h>.

2000-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Fix argument of test.

2000-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc: Include <unistd.h>, <sys/stat.h>.
	(LoadConfig): Honor checkSecure.  Mark strings.
	* pkgsrc/README.src: Update.

	* po/en_US.UTF-8.po: Regenerate.

2000-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Fix typo.
	* configure: Regenerate.

2000-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (checkSecureUserConfig): New variable.
	(NeedSecureUserConfig): New function.
	(LoadConfig): Add checkSecure parameter.
	(LoadAllConfig): Pass checkSecureUserConfig to LoadConfig.
	* conffile.h (LoadConfig): Remove declaration.
	(NeedSecureUserConfig): Declare.
	* kcdmain.cc (mainReal): Call NeedSecureUserConfig.

2000-09-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Revert InitNewDir() change.

2000-08-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Fix typo.

2000-08-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainRead): Check environment variables KCD_DIRTREE,
	KCD_TEMP, KCD_CONFIG.
	* kcdscr: Unset KCD_DIRTREE, KCD_TEMP, KCD_CONFIG.
	* pkgsrc/README.src: Update.
	* TODO: Update.

2000-08-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc: Include <unistd.h>, <sys/stat.h>.

2000-08-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirutil.cc: Include <unistd.h>, <sys/types.h>.

2000-08-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cstrlib.cc: New file.  Split from cstrlib.h.
	* FILELIST: Add cstrlib.cc.
	* ad.rule: Likewise.
	* scripts/makepkg-real: Likewise.
	* Makefile.in: Regenerate.

	* confobj.cc: Include <fnmatch.h>

2000-08-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* confobj.cc: New files.  Split from conffile.cc.
	* confobj.h: New files.  Split from conffile.h.
	* dirtree.cc: New files.  Split from scandir.cc.
	* dirtree.h: New files.  Split from scandir.h.
	* dirutil.cc: New files.  Split from conffile.cc.
	* dirutil.h: New files.  Split from conffile.h.

	* FILELIST: Add confobj.cc, confobj.h, dirtree.cc, dirtree.h,
	dirutil.cc, dirutil.h.
	* scripts/makepkg-real: Likewise.

	* ad.rule: Add confobj.cc, dirtree.cc, dirutil.cc.
	* Makefile.in: Regenerate.

	* conffile.cc: Include "dirutil.h".
	* conffile.h: Include "confobj.h".
	* gentree.cc: Don't include "conffile.h", "scandir.h".  Include
	"confobj.h", "dirtree.h".
	* kcdmain.cc: Include "dirutil.h".
	* khwin.h: Don't include "conffile.h".  Include "confobj.h".
	* scandir.cc: Include "dirtree.h".
	* scandir.h: Include <string>, <vector>.

	* po/en_US.UTF-8.po: Regenerate.

2000-08-30  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc: Don't include "gzfileio.h", "seek.h".

2000-08-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.cc: Include "error.h".
	* gzfileio.cc: Likewise.
	* gzfileio.h: Don't include <stdarg.h>, <stdio.h>, "error.h".

	* po/en_US.UTF-8: Regenerate.

2000-08-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.cc: Don't include <unistd.h>.
	* khdoc.h: Don't include <fcntl.h>, "error.h".

2000-08-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.h (ErrorGeneric): Remove retval, ret.  Remove ret_ argument
	in all constructor.
	(ErrorGenericSyntax, ErrorGenericCommandLine, ErrorGenericFile):
	Don't pass ret_ argument to ErrorGeneric.  Add ret.

	* po/en_US.UTF-8.po: Regenerate.

2000-08-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc: Include "cstrlib.h".
	* kcdmain.cc: Likewise.
	* scandir.cc: Likewise.
	* Makefile.in: Regenerate.

2000-08-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc: Don't include "miscobj.h".
	* dirobj.cc: Include "cstrlib.h".
	* dirobj.h: Don't include "cstrlib.h", "error.h".  Include 
	<sys/stat.h>.
	* list.h: Don't include <vector>, "error.h".
	(sptr_vector): Remove.
	* miscobj.cc: Include <unistd.h>, <sys/types.h>, <wchar.h>.
	* miscobj.h: Don't include <unistd.h>, <sys/types.h>, <wchar.h>.
	* scroll.h: Don't include <cstring>.
	* seek.cc: Include "strmisc.h".
	* seek.h: Don't include "strmisc.h".
	* Makefile.in: Regenerate.

	* po/en_US.UTF-8.po: Regenerate.

2000-08-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.h (ErrorIORedirect, ErrorBadNCurses): New classes.
	* khwin.cc (HyperWindow::Init): Use ErrorBadNCurses.
	* miscobj.cc (NCurses::CheckTerminal): Use ErrorIORedirect.

2000-08-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.cc: Include <ctype.h>.
	(internal_error): Remove.
	* error.h (internal_error, internal_error_message): Remove.

2000-08-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.cc: Include <stdio.h>.
	* error.h: Don't include <stdarg.h>, <stdio.h>, <ctype.h>.

	* po/en_US.UTF-8: Regenerate.

2000-08-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.h (ErrorGenericFile::ErrorGenericFile(ostrstream &),
	ErrorGenericCommandLine::ErrorGenericCommandLine(ostrstream &)):
	Fix return code.

	* kcdmain.cc (mainReal): Call InitNewDir after finish parsing
	command line.

	* khdoc.cc (HyperDocument::InternalLoadDocument(const string &):
	Use ErrorGenericFile.

	* TODO: Update.

2000-08-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.
	* scripts/version: Bump version number to 5.1.3.

2000-08-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Change option from --enable-wide-char to
	--enable-wide-chars to match xterm.
	* configure: Regenerate.
	* UNICODE: Update.

2000-08-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.rule (default-po, install): Don't run make in po subdirectory
	if msgfmt is not available.
	* Makefile.in: Regenerate.

2000-08-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.rule: Use configure variable @INTLSUB@, @POSUB@.
	* Makefile.in: Regenerate.

2000-08-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.in: Regenerate using autodep 1.1.3.
	* pkgsrc/NEWS.src: Update.

2000-08-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.  Fix release date for version 5.1.0.
	Add changes made in stable branch.
	* scripts/version: Bump version number to 5.1.2.

2000-08-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Update using autoupdate.
	* configure: Regenerate.

2000-08-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Tidy messages.

2000-08-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add AC_PROG_CC_STDC.  Convert AC_CHECKING to
	AC_MSG_NOTICE.
	* config.h.bot: Only define __USE_MALLOC if DEBUG_MEMORY.
	* ad.append: Call aclocal with -I option.
	* acinclude.m4/cxxac.m4 (CXXAC_HAVE_ARRAY_NEW): Change message to
	avoid quoting problem.
	(CXXAC_HEADER_ALL): Convert AC_CHECKING to AC_MSG_NOTICE.
	* acinclude.m4/ncurses.m4 (NCURSESAC_MOUSEMASK): Remove redundant
	AC_DEFINE.
	* acinclude.m4/zlib.m4 (ZLIBAC_EXTERN_C): Likewise.
	* aclocal.m4, config.h.in, configure, Makefile.in: Regenerate.

2000-08-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 5.1.1.

2000-08-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

	* scripts/makepkg-real: Copy finddomain.c, loadmsgcat.c,
	localealias.c, textdomain.c, l10nflist.c explodename.c in
	intl directory.

	* po/en_US.UTF-8.po: Regenerate.

2000-08-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gtstream.h: Uncomment USING_NAMESPACE_STD.

2000-08-22  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* UNICODE: Fix typo.

	* ad.prepend: Add top_builddir.
	* configure.in: Set top_builddir.  Refer to UNICODE when ncursesw
	library is not available and --enable-wide-char is given.
	* configure, Makefile.in: Regenerate.

	* config.h.bot: Enclose C++ defines in __cplusplus.
	* config.h.in: Regenerate.


2000-08-20  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 5.1.0.

2000-08-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (CommandLineScanLog::PrintTime): Use my_strftime.

	* po/en_US.UTF-8.po: Regenerate.

2000-08-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.h (Buffer::GetAllocSize): New member function.

	* pkgsrc/version.cc.src (relDate): Remove.
	(rel_day, rel_month, rel_year): New variables.
	* scripts/makepkg, scripts/makepkg-release: Add %RELMONTH%,
	%RELDAY%, %RELYEAR%, //#define.

	* gentree.cc (monthName): Remove.
	(my_strftime): New function.
	(GenerateHTML, GenerateDirListHTML): Use it.
	* kcdmain.cc (PrintBanner): Likewise.
	* gentree.h (my_strftime): Declare.

	* scandir.cc (SmartScanDir): Update scan time.

	* po/en_US.UTF-8.po: Regenerate.

	* TODO: Update.

2000-08-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gtstream.cc (gtout::finish): Don't print remaining arguments.

2000-08-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Set IFS to default value.

2000-08-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/utf-quotes: Fix substitution logic.  Use \xe2\x80\x98 for
	openning quote.
	* po/en_US.UTF-8.po: Regenerate.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Adjust ShowListThreshold to take into account
	the added current directory.

	* khdoc.cc (HyperDocument::FindNextLink): Fix problem when
	anchorSelectedIter is initialized with one past end of list.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Install BUGREPORT, UNICODE and RPM.
	* pkgsrc/spec.src: Likewise.
	* Makefile.in: Regenerate.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/utf-quotes.pl: Add copyright message.  Detect msgid
	and msgstr.
	* scripts/copy-message.pl: New file.
	* scripts/makepkg-real: Add scripts/copy-message.pl.
	* FILELIST: Likewise.
	* ad.append: Fix en_US.UTF-8.po generation.
	* Makefile.in, po/en_US.UTF-8.po: Regenerate.

	* configure.in: Set LINGUAS.
	* configure: Regenerate.

	* UNICODE: Update.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add en_US.UTF-8 in ALL_LINGUAS.
	* configure: Regenerate.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Set auxiliary directory.
	* configure: Regenerate.

	* ad.append: Call make install in intl and po subdirectories.
	* Makefile.in: Regenerate.
	* scripts/mkinstalldirs: New file.

	* scripts/install-sh: Move from...
	* install-sh: ...here.

	* FILELIST: Update.
	* scripts/makepkg-real: Update.

	* spec.src: Add /usr/share/locale/

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/utf-quotes.pl: New file.
	* FILELIST: Add scripts/utf-quotes.pl.
	* ad.append: Likewise.
	* scripts/makepkg-real: Likewise.
	* Makefile.in: Regenerate.

	* po/POTFILES: Add utf8dec.cc, utf8dec.h.

	* po/en_US.UTF-8: New file.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::Clear): Set modified and need_update flags.
	(EditBox::ProcessKey): Remove comments.
	* khdoc.cc (HyperDocument::ProcessHypertext): Likewise.
	* miscobj.cc (ACSFallBack): Move comment.
	* statwin.cc (khStatusWindowWithFind::ProcessKey): Remove comment.
	Restore FindPrev, FindNext.
	* utf8dec.cc (utf8_decode::decode): Detect invalid following bytes.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST, scripts/makepkg-real: Add utf8dec.h utf8dec.cc.

	* editbox.cc (EditBox::ProcessKey): Reorganize.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* utf8dec.cc (utf8_decode): Remove redundant code.
	* utf8dec.h (utf8_decode::set_need_update): New member function.
	* editbox.cc (EditBox::ProcessKey): Set decoder need_update.

	* khwin.cc (khHyperWindowWithFind::CursorMode): Ignore if string is
	empty.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.h (EditBox::GetStringLength): Use GetString.

	* khwin.cc (HyperWindow::MatchSubString): Use multibyte string
	only when character code > 0x7F.

	* statwin.cc (khStatusWindowWithFind::ProcessKey): Correct
	DEL control code.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (HyperWindow::MatchSubString): Convert Unicode
	character to multibyte string.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::ProcessKey): Don't output partially processed
	multibyte string.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::ProcessKey): Fix character insertion logic.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* utf8dec.h, utf8dec.cc: New files.
	* ad.rule: Add utf8dec.cc.
	* Makefile.in: Regenerate.
	* editbox.cc: Don't include <wchar.h>, <wctype.h>.
	(EditBox::EditBox): Remove need_char, end_char.
	(EditBox::Clear): Clear unicode_key.  Use decoder.
	(EditBox::ProcessKey): Use decoder.
	* editbox.h: Include "utf8dec.h".
	(EditBox::need_char, EditBox::end_char, EditBox::EndChar): Remove.
	(EditBox::unicode_key, EditBox::decoder): New member data.
	(EditBox::NeedUpdate): New member function.
	* statwin.cc (khStatusWindowWithFind::ProcessKey): Use NeedUpdate
	instead of EndChar.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::ProcessKey): Set need_char, end_char.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::ProcessKey): Return when UTF-8 processing is
	not finished.  Add wide character support to left/right key.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::ProcessKey): Ignore surrogates and invalid
	characters.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::ProcessKey): Add UTF-8 decoder.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* statwin.cc (khStatusWindowWithFind::ProcessKey): Update insert
	status.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::ProcessKey): Don't save current attributes.
	Move cursor only when necessary.  Handle inserting after end of
	string.
	* strmisc.cc (k_wstring::insert): Avoid overflow problem.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::GetString): Implement.

2000-08-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc: Include <wchar.h>, <wctype.h>.
	(EditBox::Show): Use size() instead of length().
	(EditBox::ProcessKey): Add some support for multibyte strings.
	(EditBox::GetString): Likewise.
	* editbox.h: Include "strmisc.h".
	(EditBox::buffer): Change type to k_wstring.
	(EditBox::out_buffer): New member data.
	(EditBox::GetString): Remove definition.
	(EditBox::GetStringLength): Adjust.
	* statwin.cc (khStatusWindowWithFind::ProcessKey): Cache
	currently edited string.
	* statwin.h (khStatusWindowWithFind::edit_string): New member data.
	* strmisc.cc (k_wstring::operator=, k_wstring::erase,
	k_wstring::insert): Define.
	(GetWStringWidth, GetWStringWidthFirstCharAtPos): New functions.
	* strmisc.h (k_wstring): New class.
	(GetWStringWidth, GetWStringWidthFirstCharAtPos): Declare.

2000-08-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::EditBox): Set need_char, end_char.
	* editbox.h (EditBox::need_char, EditBox::end_char): New member
	data.
	(EditBox::NeedChar, EditBox::EndChar): New member function.
	* statwin.cc (khStatusWindowWithFind::ProcessKey): Adjust.

2000-08-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (khHyperWindowWithFind::ProcessKey): Use isalnum.

2000-08-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::EditBox): Remove base initializer.
	Set modified.
	(EditBox::ProcessKey): Set modified.
	* editbox.h: Include "buffer.h".
	(EditBox::modified): New member data.

2000-08-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.cc (Buffer::WrapPrintf): Remove.
	* buffer.h (Buffer::WrapPrintf): Likewise.
	* khdoc.cc (HyperDocument::ProcessHypertext,
	HyperDocument::FindNextLink): Adjust.
	* khwin.cc (HyperWindow::Init, HyperWindow::PrepareDisplay):
	Likewise.

	* error.cc (NoMemoryError): Mark string.
	(internal_error): Move definition from...
	* error.h (internal_error): ...here.
	(ErrorBadSequence::what): Mark string.

	* miscobj.cc (k_waddch_int): Remove comment.

	* TODO: Update.

2000-08-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* UNICODE: New file.
	* FILELIST: Add UNICODE.
	* scripts/makepkg-real: Likewise.
	* pkgsrc/NEWS.src: Update.

2000-08-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::ProcessHypertext): Print control
	characters as '?'.
	* miscobj.cc (k_waddch_int): Likewise.

	* strmisc.cc (IsUTF8Mode): Check locale environment variables.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::IndentLine): Move cursor here.
	(HyperDocument::ProcessLI): Add comment.
	(HyperDocument::NextLine): New member function.
	(HyperDocument::ProcessHypertext): Use it.
	* khdoc.h (HyperDocument::NextLine): Declare.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* miscobj.cc (k_waddch_int): Rename from...
	(k_waddch(WINDOW *, const char **, int)): ...here.
	(k_waddch(WINDOW *, const char *, int),
	k_waddstr(WINDOW *, const char *),
	k_waddnstr(WINDOW *, const char *, int)): Adjust.
	* miscobj.h (k_waddch_int): Rename from...
	(k_waddch(WINDOW *, const char **, int)): ...here.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc: Include "strmisc.h".

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (Features): Report UTF-8 support status.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* miscobj.cc (k_waddch(WINDOW *, const char **, int): Update
	parameter s.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* miscobj.cc (k_waddch(WINDOW *, const char **s, int): Fix logic
	when not in UTF-8 mode.
	* strmisc.cc (GetStringWidth): Only declare variable state in
	UTF-8 mode.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.rule (DEFTARGETLIST): Set to default-target.
	* ad.append (default-target, default-intl, default-po): New target.
	* Makefile.in: Regenerate.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* statwin.cc (khStatusWindowWithFind::statFind2): Remove trailing
	spaces.
	(khStatusWindowWithFind::DrawStatusBar): Simplify.
	(khStatusWindowWithFind::khStatusWindowWithFind): Use
	GetStringWidth().

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* miscobj.cc: Add comments.
	(k_waddch(WINDOW *, const char **, int),
	k_waddch(WINDOW *, const char *, int),
	k_waddstr(WINDOW *, const char *),
	k_waddnstr(WINDOW *, const char *, int): New functions.
	* miscobj.h: Include <wchar.h>.  Add comments.
	(k_waddch(WINDOW *, const char **, int),
	k_waddch(WINDOW *, const char *, int),
	k_waddstr(WINDOW *, const char *),
	k_waddnstr(WINDOW *, const char *, int): Declare.
	k_waddstr(WINDOW *, const string &),
	k_waddnstr(WINDOW *, const string &, int): New inline functions.

	* strmisc.cc (GetStringWidth): Rename from...
	(GetStringSize): ...here.
	* strmisc.h (GetStringWidth): Rename from...
	(GetStringSize): ...here.
	* gentree.cc (html_unreadable_width, html_skipped_width,
	html_not_in_fille_width, html_not_found_size): Rename from...
	(html_unreadable_width, html_skipped_width,
	html_not_in_fille_width, html_not_found_size): ...here.
	(GenerateHTMLStrings, GenerateSymLinkHTML, GenerateDirHTML,
	RecursiveGenerateHTML, GenerateHTML, GenerateDirListHTML): Adjust.

	* statwin.cc: Include "strmisc.h".
	(dots, dots_width): New variables.
	(DrawStatusBarHelper(WINDOW *, int, int, const char *)): Adjust.
	Also print ... if string too long.
	(DrawStatusBarHelper(WINDOW *, int, int, const string &)): New
	function.
	(khStatusWindow::DrawStatusBar, khURLWindow::DrawStatusBar): Adjust.
	(khURLWindow::khURLWindow): Initialize switch_disp,
	switch_disp_width.
	* statwin.h (khURLWindow::switch_disp,
	khURLWindow::switch_disp_width): New member data.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc: Don't include <wchar.h> here.
	(HyperDocument::ProcessHypertext): Add comment.  Simplify.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::FindNextLink): Fix quoting style.
	* khwin.cc (HyperWindow::PrepareDisplay): Likewise.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* miscobj.cc (ACSFallBack): Remove test code.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* miscobj.cc: Include "strmisc.h"
	(ACSFallBackSelect): New function.
	(ACSFallBack): Use it.
	* miscobj.h (ACSFallBackSelect): Declare.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::ProcessHypertext): Remove more test code.
	Add comment.

2000-08-14  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::ProcessHypertext): Remove test code.

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h (CLIB_HAVE_MBRTOWC): New.
	* config.h.bot: Use CLIB_HAVE_MBRTOWC and CLIB_HAVE_MBSRTOWCS
	to define USE_UTF8_MODE.
	* configure.in: Check mbrtowc.
	* config.h.in: Regenerate.
	* configure: Regenerate.

	* khdoc.cc: Include <wchar.h>.
	(HyperDocument::ProcessHypertext): Add UTF8 handler.
	* strmisc.cc (GetStringSize): Use mbsrtowcs.

	* khwin.cc (HyperWindow::MatchSubString): Use GetNumChar.

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h (CLIB_HAVE_MBTOWC, CLIB_HAVE_MBSTOWCS): Add.
	* config.h.bot: Define USE_UTF8_MODE if Unicode functions are
	available.
	* configure.in: Check mbtowc, mbstowcs.
	* config.h.in, configure: Regenerate.
	* strmisc.cc (IsUTF8Mode): Implement.
	(GetStringSize): Use mbstowcs.

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add a missing dollar sign.
	* configure: Regenerate.

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (HyperWindow::Highlight, HyperWindow::PrepareDisplay):
	Update comment.
	(HyperWindow::MatchSubString): Simplify.

	* configure.in: Move --enable-wide-char check before library checks.
	Change ncurses library name to the wide version if
	--enable-wide-char.
	* configure: Regenerate.

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Change type of parameter to const string &.
	* gentree.h (CD): Adjust declaration.
	* kcdmain.cc (mainReal): Adjust.

	* TODO: Update.

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* setupcurses.h (COLOR_TYPE, ATTR_TYPE): Move from...
	* khdoc.h (COLOR_TYPE, ATTR_TYPE): ...here.
	* conffile.h: Don't include "khdoc.h".  Include "setupcurses.h".

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Convert type of hyperInitPos, hyperFindLink
	to string.
	* khdoc.cc (HyperDocument::FindLink, HyperDocument::FindNextLink):
	Convert parameter type to const string &.
	* khdoc.h (HyperDocument::FindLink, HyperDocument::FindNextLink):
	Adjust declaration.
	* khwin.cc (HyperWindow::HyperWindow,
	khHyperWindowWithFind::khHyperWindowWithFind): Convert type of 
	startSection_ parameter to const string &.
	(HyperWindow::PrepareDisplay): Adjust.  Use ostrstream to output
	error message.
	(newHyperFile, newSection): Remove.
	(HyperWindow::ProcessKey): Use C++ string class.
	(HyperWindow::KeyboardLoop): Adjust.
	* khwin.h (HyperWindow::startSection): Convert type to string.
	(HyperWindow::HyperWindow,
	khHyperWindowWithFind::khHyperWindowWithFind): Adjust declaration.

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cstrlib.h (k_fputs): New function.
	* gentree.cc (CD): Use it.
	* khwin.cc (khHyperWindowWithFind::ProcessCall): Likewise.

	* TODO: Update.

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.  Add changes for version 5.0.1.

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (GenerateSymLinkHTML, GenerateDirHTML,
	RecursiveGenerateHTML, GenerateHTML, GenerateDirListHTML): Compute
	string width properly.
	(RecursiveFindDir): Reindent.

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add --enable-wide-char.  Check wcwidth, mbsrtowcs
	only when wide char is enabled.
	* configure: Regenerate.

	* error.h (ErrorBase, ErrorBadFileFormat, ErrorFileConfigChanged,
	ErrorScreenTooSmall, ErrorGZIO, ErrorRange): Mark string.
	Adjust return code.
	(ErrorConfigChange): Remove.
	(ErrorBadSequence): New class.

	* gentree.cc (html_unreadable_size, html_skipped_size,
	html_not_in_file_size, html_not_found_size): New variables.
	(GenerateHTMLStrings): Initialize them.
	(GenerateSymLinkHTML, RecursiveGenerateHTML): Use them.

	* strmisc.cc: Include "list.h".  Conditionally include <wchar.h>.
	Add comment.
	(IsUTF8Mode, GetStringSize): New functions.
	* strmisc.h (IsUTF8Mode, GetStringSize): Declare.

2000-08-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Don't check header locale.h, libintl.h as it is done
	in gettext check.  Check header wchar.h.  Check functions wcwidth,
	mbsrtowcs.
	* acconfig.h: (CLIB_HAVE_WCWIDTH, CLIB_HAVE_MBSRTOWCS): New.
	* config.h.in, configure: Regenerate.

2000-08-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (MatchInfo::is_curdir): New field.
	(MatchInfo::MatchInfo): Add new parameter to initialize is_curdir.
	(MatchInfoIsCurDir): New struct.
	(RecursiveFindMatchDir): Add add_curdir parameter.  Adjust.
	(FindMatchDir): Likewise.
	(CD): Adjust.

	* khdoc.cc (HyperDocument::ProcessHypertext): Add comment.

	* pkgsrc/NEWS.src: Update.
	* TODO: Update.

2000-08-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (html_unreadable, html_skipped, html_not_in_file,
	html_not_found): New variables.
	(GenerateHTMLStrings): New function.
	(GenerateSymLinkHTML, RecursiveGenerateHTML): Use html_* variables.
	(RecursiveFindMatchDir): Simplify.
	(CD): Call GenerateHTMLStrings.  Speed up.

	* pkgsrc/NEWS.src: Update.

2000-08-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2000-08-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.prepend (LIBS): Add @INTLLIBS@.

	* cstrlib.h: Include <stdio.h>.
	(k_access, k_chdir, k_getpwnam, k_fopen, k_fnmatch, k_stat, k_lstat,
	k_readlink, k_system): Rename from access, chdir, getpwnam, fopen,
	fnmatch, stat, lstat, readlink, system.
	* conffile.cc (ExpandDirectory): Adjust.
	(IsPatternMatch::operator()(DirItem&), LoadConfig): Likewise.
	(k_fnmatch(const string&, const string&)): Rename from...
	fnmatch(const string&, const string&)).
	* conffile.h (fnmatch(const string&, const string&, int): Remove.
	(k_fnmatch(const string&, const string&)): Rename from...
	fnmatch(const string&, const string&)).
	* cxxlib.cc: Include "cstrlib.h".
	(dump_core): Adjust.
	* dirobj.cc (Directory::Init): Likewise.
	* gentree.cc (ExtendTree, RecursiveFindDir, CD): Likewise.
	* kcdmain.cc (InitNewDir): Likewise.
	* khdoc.cc (HyperDocument::InternalLoadDocument,
	HyperDocument::ProcessHypertext): Likewise.
	* khwin.cc (HyperWindow::KeyboardLoop,
	khHyperWindowWithFind::ProcessCall): Likewise.
	* scandir.cc: Don't include <fnmatch.h>.
	(LoadDirFile, ResolveSymLink, FindSkipDir, RecursiveFullScanDir,
	FullScanDir, RecursiveSmartScanDir, SmartScanDir, DoPartialScanDir,
	PartialScanDir): Likewise.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* config.h.bot (N_): Redefine.
	* config.h.in: Regenerate.

	* conffile.cc (ExpandDirectory): Mark strings.
	* gentree.cc (monthName, GenerateSymLinkHTML, RecursiveGenerateHTML,
	GenerateHTML, GenerateDirListHTML, CD): Likewise.
	* kcdmain.cc (PrintBanner, Help, HelpInst, InitNewDir): Likewise.
	* khdoc.cc: Include "gtstream.h".
	(BufferDumpBytes, HyperDocument::InternalLoadDocument(FILE *),
	HyperDocument::ReadFile(gzFile), HyperDocument::ProcessLI,
	HyperDocument::ProcessA, HyperDocument::ProcessHypertext,
	HyperDocument::ReadATag, HyperDocument::FindNextLink): Likewise.
	* khwin.cc (khScreenManager::RequestResize, HyperWindow::Init,
	HyperWindow::PrepareDisplay, khHyperWindowWithFind::ProcessCall):
	Likewise.
	* miscobj.cc (NCurses::CheckTerminal): Likewise.
	* scandir.cc (CommandLineScanLog::PrintTime, 
	CommandLineScanLog::PrintStartDirNotFound,
	CommandLineScanLog::PrintChdirError, HandleChdirError,
	ReadSaveFile, LoadDirFile, WriteDirFile, ExpandSymLink, FullScanDir,
	AssertDirFlag::operator()(sptr<DirectoryEntry>&), SmartScanDir,
	DoPartialScanDir, PartialScanDir): Likewise.
	* statwin.cc (khStatusWindow::DrawStatusBar, khURLWindow::statKey1,
	khURLWindow::statKey2, khURLWindow::statKey3,
	khURLWindow::DrawStatusBar, khURLWindowWithFind::statKey4WithFind,
	khURLWindowWithFind::statKeyFind, khURLWindowWithFind::DrawStatusBar,
	khStatusWindowWithFind::statFind1, khStatusWindowWithFind::statFind2,
	khStatusWindowWithFind::statFindOvr,
	khStatusWindowWithFind::statFindIns,
	khStatusWindowWithFind::DrawStatusBar,
	khStatusWindowWithFind::khStatusWindowWithFind): Likewise.

	* error.cc (ostream &operator<<(ostream &, dump_bytes &)):
	Add return statement.
	* error.h (ErrorGeneric(ostrstream &, int),
	ErrorGenericSyntax(ostrstream &, int),
	ErrorGenericCommandLine(ostrstream &, int),
	ErrorGenericFile(ostrstream &, int)): Move from...
	(ErrorGeneric(strstream &, int)
	ErrorGenericSyntax(strstream &, int),
	ErrorGenericCommandLine(strstream &, int),
	ErrorGenericFile(strstream &, int)): ...here

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.cc (BufferStream::~BufferStream): Remove.
	* buffer.h (BufferStream): Remove.

	* conffile.cc (ExpandDirectory, PrintErrorCommand, PrintErrorMessage,
	Extrachar, InvalidValue, InvalidAttr, InvalidColor, MissingOn,
	EqualNotFound, QuoteNotFound, YesNoNotFound, NumberRequired, 
	ReadUnsigned, PrintYesNo, ConfigStringList, ConfigClearStringList,
	LoadConfig): Mark strings.

	* error.h (ErrorGeneric(strstream &,int), 
	ErrorGenericSyntax(strstream &,int),
	ErrorGenericCommandLine(strstream &,int),
	ErrorGenericFile(strstream &,int)): New constructors.
	(dump_bytes): New class.
	(ostream& operator<<(ostream&, dump_bytes&)): Declare new function.
	* error.cc (ostream& operator<<(ostream&, dump_bytes&)): Define.

	* pkgsrc/version.cc.src: Add magic to allow call from configure.
	* configure.in: Get VERSION from $srcdir/version.cc
	* configure: Regenerate.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makepkg-real: Fix previous patch to copy po/* instead of 
	intl/*.  New code for copying intl/*.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* po/ChangeLog: New file.
	* scripts/makepkg-real: Update code copying intl/* files.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* config.h.in: Regenerate.
	* kcdmain.cc (Features): Fix compilation errors.
	* po/POTFILES.in: Update.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h: Don't include <libintl.h>.
	* config.h.bot: Include <libintl.h>.
	(_, N_): Move from...
	* acconfig.h (_, N_): ...here.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h: Include <libintl.h>.
	(_, N_): New macros.
	* kcdmain.cc: Don't include <libintl.h>.
	(_): Remove.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.h: Don't include <string>.  Include "gtstream.h".
	(BufferStream): New class.
	* buffer.cc (BufferStream::~BufferStream): Define.

	* conffile.cc (ExpandDirectory): Mark string.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.cc (check_size, Buffer::WrapPrintf): Mark strings.
	* dirobj.cc (DirectoryEntry::DirectoryEntry(gzFile, char): Likewise.

	* ad.append (clean-subdir, clean-curdir, distclean-subdir,
	distclean-curdir, mostlyclean-subdir, mostlyclean-curdir,
	maintainer-clean-subdir, maintainer-clean-curdir): New rules.
	(clean, distclean, mostlyclean): Use it.
	(maintainer-clean): Rename from...
	(maintainerclean): ...here.
	(mostlyclean): Use clean instead of distclean.
	* Makefile.in: Regenerate.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (Features, mainReal, main): Mark strings.
	
	* scripts/makelink: Fix program name.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.prepend: Add PACKAGE, VERSION.
	* ad.rule: Add SUBDIR, DEFTARGETLIST.
	* configure.in: Get VERSION from $srcdir/scripts/version.
	* configure, Makefile.in: Regenerate.

	* kcdmain.cc (_): Define for gettext.
	(Help): Use it.

	* scripts/makepkg-real: Use cp -dR.

	* po/POTFILES.po: New file.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h: Add ENABLE_NLS, HAVE_CATGETS, HAVE_GETTEXT, 
	HAVE_LC_MESSAGES, HAVE_STPCPY, PACKAGE and VERSION.
	* configure: Add PACKAGE, VERSION, ALL_LINGUAS, AC_ISC_POSIX and
	AM_GNU_GETTEXT.
	* config.h.in, aclocal.m4, configure: Regenerate.
	
	* intl/ChangeLog, intl/Makefile.in, intl/VERSION, intl/bindtextdom.c,
	intl/cat-compat.c, intl/dcgettext.c, intl/dgettext.c,
	intl/explodename.c, intl/finddomain.c, intl/gettext.c,
	intl/gettext.h, intl/hash-string.h, intl/intl-compat.c,
	intl/l10nflist.c, intl/libgettext.h, intl/linux-msg.sed,
	intl/loadinfo.h, intl/loadmsgcat.c, intl/localealias.c,
	intl/po2tbl.sed, intl/po2tbl.sed.in, intl/textdomain.c,
	intl/xopen-msg.sed, po/Makefile.in.in: New files.
	* FILELIST, scripts/makepkg-real: Update.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Check locale.h, libintl.h.
	* kcdmain.cc: Use configure results to include <locale.h>, 
	<libintl.h>.
	(mainReal): Use bindtextdomain, textdomain.
	* configure: Regenerate.

2000-08-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gtstream.h, gtstream.cc: New files.
	* FILELIST, scripts/makepkg-real: Add gtstream.h, gtstream.cc.
	* ad.rule: Add gtstream.cc.
	* Makefile.in: Regenerate.

	* kcdmain.cc: Include <locale.h>.
	(mainReal): Use setlocale.

	* configure.in: Add AC_FUNC_FNMATCH, AC_FUNC_VPRINTF.
	* cstrlib.h: Check if HAVE_FNMATCH is defined.
	* configure: Regenerate.

	* pkgsrc/NEWS.src: Update.

2000-08-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

	* scripts/version: Bump version number to 5.0.0.

2000-08-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Default to --disable-debug-memory.
	* configure: Regenerate.

2000-08-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ExpandDirectory): Remove c_str().
	Fix directory name appending bug.  Update comment.

	* TODO: Update.

2000-08-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src: Update documentation list.

2000-08-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Move to do lists from...
	* khwin.cc, scrnman.cc, statwin.cc: ...here.

2000-08-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* miscobj.h (NCurses::IsInitScr): New member function.
	* buffer.cc: Include "strmisc.h", "miscobj.h".
	(Buffer::WrapPrintf): Get screen columns.  Leave space for program
	name in the first line.
	* gentree.cc (CD): Move cursor out of drawn screen when exception
	is caught.

	* strmisc.h: Fix comment.

2000-08-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ExpandDirectory): Fix user name printing and 
	quoting problem.  Simplify.

	* conffile.cc (ReadLine): Change variable type of inDoubleQuote,
	inBackSlash to bool.  Use Buffer::Putc to store file input.

2000-08-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.cc (check_size): New function/macro.
	(Buffer::Buffer, Buffer::Putsn, Buffer::operator[]): Use it.

	* pkgsrc/NEWS.src: Update.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (PartialScanDir(ScanLog &, const string &, bool)):
	Change parameter from const string & to const vector<string> &.
	(PartialScanDir(const string &)): Likewise.
	(DoPartialScanDir): Move symbolic link expansion to
	PartialScanDir(ScanLog &, const vector<string> &, bool).
	* scandir.h (PartialScanDir): Adjust declaration.
	* kcdmain.cc (mainReal): Adjust.  More error checking.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.h (DirectoryEntry::IsDir, DirectoryEntry::IsSymLink):
	Change return type to bool.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Fix compiler warning.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ExpandDirectory): Change various int to
	string::size_type.

	* gentree.cc (FindMatchDir): Change return type to size_t.
	(CD): Adjust.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.h (EditBox::boxLength, EditBox::curPos): Change to size_t.
	(EditBox::insert): Change to bool.
	(EditBox::EditBox(WINDOW *, int, int, unsigned): Adjust declaration.
	EditBox::GetStringLength): Change return type to size_t.
	* editbox.cc (EditBox::EditBox(WINDOW *, int, int, unsigned)): 
	Change parameter to size_t.
	(EditBox::Show, EditBox::Clear, EditBox::ProcessKey): Adjust.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.h: Include "error.h".  Don't include <string.h>, <ctype.h>
	and <string>.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.h (ErrorRange): New class.
	* strmisc.cc (StringToUnsigned): Change return type to unsigned.
	Throw ErrorRange upon error.
	* strmisc.h (StringToUnsigned): Adjust declaration.
	* khdoc.cc (HyperDocument::ProcessHypertext): Adjust call.
	Use static_cast.

	* pkgsrc/NEWS.src: Update.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add -W to CFLAGS and CXXFLAGS when GCC is found.
	* configure: Regenerate.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ReadDirFileConfig, WriteDirFileConfig): Comment
	out parameter name.

	* strmisc.h (CompareStringCase(string &str1, string &str2),
	CompareStringCase(string &str1, string &str2, size_t n)):
	Change parameter type to const string &.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* list.h (sptr, saptr): Use size_t instead of int.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.cc (CompareStringCase(const char *, const char *),
	CompareStringCase(const char *, const char *, unsigned),
	UnquoteShellChars(const string &), QuoteURLChars(const string &),
	UnquoteURLChars(const string &), QuoteGlobChars(const string &)):
	Use size_t instead of int or unsigned.  Tidy.
	* strmisc.h (CompareStringCase(const char *, const char *, unsigned),
	CompareStringCase(string &, string &, unsigned))
	Adjust declaration.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.cc (CompareStringCase(const char *, const char *),
	CompareStringCase(const char *, const char *, unsigned),
	UnquoteShellChars(const string &), QuoteURLChars(const string &),
	UnquoteURLChars(const string &), QuoteGlobChars(const string &)):
	Use size_t.  Tidy.
	* strmisc.h (CompareStringCase(const char *, const char *, unsigned),
	CompareStringCase(string &, string &, unsigned)):
	Change argument to size_t.

2000-08-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.h (Buffer::bufferPtr, Buffer::bufferSize,
	Buffer::bufferIncSize): Change from int to size_t.
	(Buffer::Buffer, Buffer::Putsn, Buffer::GetSize, 
	Buffer::operator[]): Change argument type from int to size_t.
	* buffer.cc (Buffer::Buffer, Buffer::Putsn, Buffer::operator[]):
	Change argument type from int to size_t.
	(Buffer::Puts, Buffer::WrapPrintf): Use size_t.

2000-08-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 4.18.0.

2000-07-25  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.cc (DirectoryEntry::Init): Clear entry type and return upon
	failure.

2000-07-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (RecursiveSmartScanDir): Retain old information if old
	and new ones are both directories or symbolic links.

2000-07-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2000-07-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (RecursiveFullScanDir, RecursiveSmartScanDir): Tidy.

2000-07-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (FullScanDir): Clear directory tree.

2000-07-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.h (DirectoryEntry::numLink, DirectoryEntry::hasNumLink):
	New member data.
	(DirectoryEntry::HasNumLink, DirectoryEntry::GetNumLink): New
	member function.
	* dirobj.cc (DirectoryEntry::DirectoryEntry(const direct *),
	DirectoryEntry::DirectoryEntry(const char *),
	DirectoryEntry::DirectoryEntry(const string &),
	DirectoryEntry::DirectoryEntry(gzFile, char)): Initialize numLink
	and hasNumLink.
	(DirectoryEntry::Init): Set numLink and hasNumLink.

2000-07-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (DoPartialScanDir): Move missing code from ...
	(PartialScanDir): ... here.

2000-07-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (DoPartialScanDir): Split out from ...
	(PartialScanDir): ... here.

2000-07-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (WriteDirFile): Remove t1 argument.
	(FullScanDir, SmartScanDir, PartialScanDir): Adjust.

2000-07-24  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khwin.cc (newHyperFile, newSection): Use PATH_MAX instead of
	_POSIX_PATH_MAX.

2000-07-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (PartialScanDir): Clear subdirectories upon full scan.

2000-07-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h (CXX__HAVE_HEADER_cerrno): Move code to the correct
	location.
	* config.h.in, configure: Regenerate.

2000-07-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2000-07-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add --enable-debug-memory.
	* configure: Regenerate.

2000-07-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Use AC_CHECK_LIB to detect -ldl.
	Use AC_TYPE_MODE_T, AC_TYPE_OFF_T and AC_TYPE_UID_T.
	Remove an extra AC_LANG_RESTORE.

2000-07-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h (DEBUG_MEMORY): New.
	* configure.in: Define DEBUG_MEMORY.
	* cxxlib.cc (LARGE_MEMORY_THRES, DEBUG_MALLOC): Define if 
	DEBUG_MEMORY is defined.
	* configure, config.h.in: Regenerate.

2000-07-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2000-07-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (CommandLineScanLog::PrintChdirError): Adjust output.
	(HandleChdirError): New function.
	(ResolveSymLink): Tidy.
	(RecursiveFullScanDir, RecursiveSmartScanDir, SmartScanDir, 
	PartialScandir): Report chdir error.

2000-07-21  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h (CXX__HEADER_cerrno): Define to <errno.h> if <cerrno>
	does not exist.
	* configure.in: Check for cerrno.
	* configure, config.h: Regenerate.

	* scandir.cc: Use CXX__HEADER_cerrno.
	(CommandLineScanLog::PrintChdirError): Define.
	* scandir.h (ScanLog::PrintChdirError): New pure virtual function.
	(CommandLineScanLog::PrintChdirError): Declare.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.cc (EditBox::DoRestCursor): Rename from 
	EditBox::RestCursor.
	* editbox.h (EditBox::DoRestCursor): Rename from 
	EditBox::RestCursor.
	* statwin.c (khStatusWindowWithFind::DoRestCursor): Adjust.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Update.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc, khwin.cc, statwin.cc: Update comments.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* miscobj.cc: Remove to do list.
	(NCurses::Init): Do not test return code.
	(NCurses::CheckTerminal): Return void.
	* miscobj.cc (NCurses::CheckTerminal): Adjust declaration.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.cc, buffer.h, dirobj.cc, editbox.cc, error.cc, gzfileio.cc,
	gzfileio.h, kcdmain.cc, khdoc.cc, khwin.cc, khwin.h, miscobj.cc,
	scrnman.cc, scroll.cc, seek.cc, setupcurses.h, statwin.cc, 
	strmisc.cc: Remove old history.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.cc (DirectoryEntry::DirectoryEntry(gzFile, char),
	DirectoryEntry::Init): Use true instead of 1 as argument.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.cc (quoteBuffer): Remove.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Do not use smart pointer for buffer.
	(GenerateSymLinkHTML, GenerateDirHTML, RecursiveGenerateHTML, 
	GenerateHTML, GenerateDirListHTML): Adjust.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (LoadConfig): Do not use smart pointer for 
	configLineBuf.

	* scandir.cc (LoadDirHeader): Set default size and autodelete flag.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (LoadDirHeader): Do not use smart pointer for str.
	(LoadDirFile): Remove unused variable.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (PartialScanDir): Store current directory in smart
	pointer.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (RecursiveGenerateHTML): Tidy.

2000-07-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.h (NAME_LEN): Remove.

2000-07-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.cc, gentree.cc: Tidy comments.

2000-07-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (PartialScanDir): Do not set dirUpdated.

2000-07-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc: Update comments.

	* pkgsrc/NEWS.src: Update.

2000-07-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (RecursiveSmartScanDir): Remove unused code.

2000-07-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.h (dump_core): Declare.
	* scandir.cc: Include cxxlib.h.
	(AssertDirFlag): New struct.
	(RecursiveSmartScanDir, SmartScanDir): Use it.

	* scandir.cc (RecursiveSmartScanDir): Update info when directory is
	no longer skipped.

2000-07-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.h (ScanLog): Add quiet, SetQuiet.
	(CommandLinkScanLog): Check quiet.
	* scandir.cc (ExpandSymLink, RecursiveFullScanDir, FullScanDir,
	RecursiveSmartScanDir, SmartScanDir, PartialScandir):
	Do not check kcdConfig.cfgQuiet.
	(FullScanDir, SmartScanDir, PartialScanDir): Call ScanLog::SetQuiet.

2000-07-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (ResolveSymLink): Fix memory leak.

2000-07-12  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gzfileio.h (k_gzgetsu(gzFile, char*, int), 
	k_gzgetsu(gzFile, Buffer&, int)): Tidy.
	* gzfileio.cc (k_gzgetsu(gzFile, char*, int), 
	k_gzgetsu(gzFile, Buffer&, int)): Tidy.

2000-07-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2000-07-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (LoadDirHeader): Fix header check for size of off_t
	and size_t.

	* TODO: Update.

2000-06-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Update comment.

	* kcdscr: Remove version number.

2000-06-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdscr: Increase the number of arguments.

2000-06-04  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.cc (malloc): Handle when size is zero.
	* pkgsrc/NEWS.src: Update.
	* scripts/version: Bump version to 4.17.4.

2000-06-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

	* scripts/version: Bump version number to 4.17.3.

2000-06-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (SmartScanDir): Remove redundant smart pointer usage.

2000-06-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (uniqueTag): Bump file ID to version 7.
	* pkgsrc/NEWS.src: Update.

2000-06-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (RecursiveSmartScanDir): Always put new directory into
	directory tree.  Fix new directory detection logic.
	* pkgsrc/NEWS.src: Update.
2000-06-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (RecursiveSmartScanDir): Remove redundant smart 
	pointer usage.

2000-06-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.cc (DirectoryEntry::gzWrite): Remove obfuscated code.

2000-06-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* dirobj.cc (Directory::Init): Allocate tempName only if 
	it is really needed.

2000-06-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.cc (operator new, operator new[]): Tidy.
	(malloc, calloc, realloc): Dump core if requested size is zero.

2000-06-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* config.h.bot: Define __USE_MALLOC.
	* config.h.in: Regenerate.

2000-06-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

	* scripts/version: Bump version to 4.17.2.

2000-06-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* BUGREPORT: Fix errors.

	* cxxlib.cc: Include <unistd.h>.
	(dump_core): New function.
	(operator new, operator new[], malloc, calloc, realloc): Use 
	dump_core.
	* pkgsrc/NEWS.src: Update.

2000-05-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Add -ldl.
	* configure: Regenerate.

	* cxxlib.cc (progName): Declare.
	(DEBUG_MALLOC): Define.
	(operator new, operator new[]): Do not declare progName here.
	(org_malloc, org_calloc, org_realloc): New variables.
	(malloc, calloc, realloc): New functions.

	* pkgsrc/NEWS.src: Update.
	* pkgsrc/version: Bump version number to 4.17.1.

2000-05-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 4.17.0.

2000-05-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makepkg-real: Use acinclude.m4 directory instead of 
	aclocal.

2000-05-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* BUGREPORT: Update.

2000-05-27  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.
	* pkgsrc/spec.src: Add BUGREPORT.

2000-05-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Add BUGREPORT.
	* scripts/makepkg-real: Likewise.

2000-05-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* BUGREPORT: New file.
	* cxxlib.cc (operator new, operator new[]): Refer to BUGREPORT.

2000-05-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.cc (operator new): Check if requested size is too large.
	(operator new[]): Throw BAD_ALLOC upon failure.
	Check if requested size is too large.

2000-05-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.cc (operator new): Throw BAD_ALLOC upon failure.

	* doc/dirwin.sgml: Add more markups.

2000-04-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Fix version number of previous release.

2000-04-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (PrintConfig): Don't print color configurations here.
	(PrintAttrConfig): Print color configurations here.

2000-04-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2000-04-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2000-04-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (colorMap): Add Default.
	(NUM_COLOR): Adjust.
	(ConfigColorAttr): Forbit default for foreground color.
	(ConfigColor, PrintColor): New functions.
	(PrintColorAttr): Remove extra space.
	(configInfo): Add DefaultBackground.
	(NUM_CONFIG_INFO): Adjust.
	* pkgsrc/README.src: Document Default and DefaultBackground.
	* pkgsrc/kcd.1.src: Document Default and DefaultBackground.

2000-04-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (KcdConfig::KcdConfig): Replace background color of 
	various component to DEFAULT_COLOR.

2000-04-19  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.h (DEFAULT_COLOR): Define.
	(AttrConfig): Add cfgDefaultBackground.
	* conffile.cc (KcdConfig::KcdConfig): Initialize 
	cfgDefaultBackground.
	* khwin.cc (khScreenManager::InitAttr): Check if background is 
	DEFAULT_COLOR.

2000-04-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/spec.src: Support compressed man pages.

2000-03-31  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* editbox.h: Don't include <string>.
	* miscobj.h: Likewise.
	* statwin.h: Likewise.

2000-03-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/basics.sgml: New file.
	* doc/dirwin.sgml: New file.
	* scripts/makepkg-real: Update.

2000-03-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* aclocal/cxxac.m4, aclocal/ncurses.m4, aclocal/zlib.m4: Remove.

2000-03-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* aclocal/cxxac.m4, aclocal/ncurses.m4, aclocal/zlib.m4:
	Put back temporary.

2000-03-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* Makefile.in: Regenerate.

2000-03-18  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acinclude.m4/cxxac.m4: Move from ...
	* aclocal/cxxac.m4: ... here.
	* acinclude.m4/ncurses.m4: Move from ...
	* aclocal/ncurses.m4: ... here.
	* acinclude.m4/zlib.m4: Move from ...
	* aclocal/zlib.m4: ... here.

	* FILELIST: Update.
	* ad.append: Update.
	* scripts/makepkg-real: Update.
	
	* kcd.sgml: Update.

	* pkgsrc/NEWS.src: Add entry for next version.
	* scripts/version: Bump version number to 4.16.2.

2000-03-16  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2000-03-16  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2000-03-16  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.cc: Include buffer.h.
	* dirobj.h: Don't include buffer.h, strmisc.h.
	* editbox.cc: Include <ctype.h>.
	* editbox.h: Don't include <ctype.h>, list.h.
	* gentree.cc: Include seek.h.
	* khwin.cc: Don't include conffile.h.
	* scandir.cc: Include strmisc.h.
	* Makefile.in: Regenerate.

2000-03-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* list.h: Update copyright message.

2000-03-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* list.h (operator new, operator delete, operator new[], 
	operator delete[]): Move to ...
	* cxxlib.h: ... here.
	* list.cc (operator new, operator delete, operator new[], 
	operator delete[]): Move to ...
	* cxxlib.cc: ... here.
	* list.h: Don't include <malloc.h>, strmisc.h.
	* cxxlib.cc: Include <malloc.h>.

	* error.h (Min, Max): Move to ...
	* cxxlib.h: ... here.

	* buffer.h: Don't include <stdio.h>, <stdlib.h>.
	* buffer.cc: Include <stdio.h>, <stdlib.h>, cxxlib.h.
	* conffile.cc: Include seek.h.
	* dirobj.h: Include list.h.
	* khdoc.h: Don't include seek.h, strmisc.h.  Include list.h.
	* khdoc.cc: Include seek.h, strmisc.h.
	* miscobj.h: Don't include error.h, <signal.h>, <stdio.h>, 
	<sys/stat.h>, <term.h>, <termios.h>, <sys/ioctl.h>, list.h.
	Include cxxlib.h.
	* miscobj.cc: Include error.h, <signal.h>, <stdio.h>, <sys/stat.h>,
	<term.h>, <termios.h>, <sys/ioctl.h>
	* seek.h: Don't include CXX__HEADER_cstring.
	* seek.cc: Include cxxlib.h.
	* strmisc.h: Don't include list.h.

	* list.cc: Remove.
	* ad.rule: Remove list.cc.
	* Makefile.in: Regenerate.
	* FILELIST: Remove list.cc.
	* scripts/makepkg-real: Remove list.cc.

	* TODO: Update.

2000-03-13  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append: Add rule to generate HTML document.
	* Makefile.in: Regenerate.

	* TODO: Update.

2000-03-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ExpandDirectory): Read HOME environment variable if
	getpwuid fails.

2000-03-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gzfileio.h (gzeof): Fix syntax error.

2000-03-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure: Restore to CVS.

2000-03-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Add entry for next version.
	* scripts/version: Bump version number to 4.16.1.

2000-03-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure: Remove from CVS.

2000-03-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* aclocal/zlib.m4: Add gzeof check.  Fix comment.
	* acconffig.h: Add ZLIBAC_HAVE_GZEOF check.
	* aclocal.m4: Regenerate.
	* config.h.in: Regenerate.
	* configure.in: Call ZLIBAC_GZ_FUNC.

	* gzfileio.h (gzeof): Define if ZLIBAC_HAVE_GZEOF is not defined.

2000-03-11  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* configure.in: Fix a variable misspelling in ncurses bool test.

2000-03-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/kcd.1.src: Update bug report location.

2000-03-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/kcd.1.src: Tidy.

2000-03-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.h (PrintAttrConfig): Declare.
	* kcdmain.cc (Help): Add --configattr help.
	(mainReal): Check --configattr.

	* pkgsrc/NEWS.src: Update.
	* pkgsrc/README.src: Document attribute configuration commands.
	* pkgsrc/kcd.1.src: Document attribute configuration commands.

2000-03-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump to version 4.16.0.

2000-03-10  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* seek.cc (SeekConfigTokenEnd): New function.
	* seek.h (SeekConfigTokenEnd): Declare.

	* conffile.cc (InvalidAttr, InvalidColor, MissingOn, 
	ConfigColorAttr, ConfigBWAttr): New functions.
	(configInfo): Add HighlightDirColorAttr, HighlightDirBWAttr,
	HighlightSymLinkColorAttr, HighlightSymLinkBWAttr, TitleColorAttr,
	TitleBWAttr, StatusColorAttr, StatusBWAttr, MoreColorAttr, 
	MoreBWAttr, ScrollArrowColorAttr, ScrollArrowBWAttr,
	ScrollBlockColorAttr, ScrollBlockBWAttr, ScrollBarColorAttr,
	ScrollBarBWAttr.
	(NUM_CONFIG_INFO): Adjust.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ConfigYestNo, PrintYesNo, ConfigUnsigned, 
	PrintUnsigned, ConfigStringList, PrintStringList, 
	ConfigClearStringList): Add AttrConfig * parameter.
	(ConfigInfo): Add AttrConfig * parameter.  Adjust.
	(configInfo): Adjust.  Add NormalColorAttr, NormalBWAttr, 
	DirColorAttr, DirBWAttr, SymLinkColorAttr, SymLinkBWAttr.
	(NUM_CONFIG_INFO): Adjust.
	(NUM_ATTR, NUM_COLOR): New macros.
	(AttrColorMap): New struct.
	(attrMap, colorMap): New variables.
	(PrintColorAttr, PrintBWAttr, PrintAttrConfig): New functions.
	(LoadConfig, PrintConfig): Adjust.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.h: Include khdoc.h.
	(AttrConfig): New struct.
	(KcdConfig): Add cfgAttrNormal, cfgAttrLink, cfgAttrHighlight,
	cfgAttrURL, cfgAttrHeader, cfgAttrBold, cfgAttrItalic, 
	cfgAttrScrollArrow, cfgAttrScrollBlock, cfgAttrScrollBar,
	cfgAttrTitle, cfgAttrMore, cfgAttrLinkBold, cfgAttrLinkItalic,
	cfgAttrHighlightBold, cfgAttrHighlightItalic): New member data.
	(KcdConfig::SetAttr): New member function.
	* conffile.cc (KcdConfig::KcdConfig): Initialize new member data
	in KcdConfig.

	* khwin.cc: Include conffile.h.
	(khScreenManager::InitAttr): New member function.
	(khScreenManager::khScreenManager): Adjust.
	* khwin.h: Don't include <unistd.h>, <sys/types.h> and <stdlib.h>.
	Include conffile.h.
	(khScreenManager::InitAttr): Declare.

	* Makefile.in: Regenerate.
	* TODO: Update.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST, scripts/makepkg-real: Add cstrlib.h.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* setupcurses.h: Reorder functions.
	* statwin.cc: Include cstrlib.h.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cxxlib.h: Add USING_NAMESPACE_STD.
	* scandir.h: Likewise.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc: Remove include <unistd.h>, <sys/types.h>, <pwd.h>,
	<fnmatch.h> and <string>.  Include strlib.h.
	(ExpandDirectory): Use string version of getpwnam.
	* cstrlib.h: Include <unistd.h>, <sys/types.h>, <fnmatch.h>, <pwd.h>
	<stdlib.h> and <sys/stat.h>.  Add USING_NAMESPACE_STD.
	(getpwnam(const string &), stat(const string &, struct stat *),
	lstat(const string &, struct stat *), 
	readlink(const string &, char *, size_t), system(const string &)):
	New functions.

	* cstrlib.h (fopen(const string &, char *)): Move from ...
	* gzfileio.h: ... here.
	* cstrlib.h (fnmatch(const string &, const string &, int)): Move from
	...
	* conffile.cc: ... here.

	* gzfileio.cc (k_gzputs(gzFile, const string &)): New function.
	* gzfileio.h (k_gzputs(gzFile, const string &)): Declare.

	* dirobj.h: Remove include <unistd.h>, <sys/types.h>, <fcntl.h>
	<stdlib.h> and <sys/stat.h>.  Include strlib.h.
	* dirobj.cc (DirectoryEntry::Init, DirectoryEntry::gzWriteInfo,
	DirectoryEntry::gzWrite): Adjust.

	* khdoc.cc: Include strlib.h.
	(HyperDocument::InternalLoadDocument(const string &)): Adjust.
	* khwin.cc: Include strlib.h
	(HyperWindow::KeyboardLoop): Adjust.

	* Makefile.in: Regenerate.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* cstrlib.h: New file.
	* dirobj.h: Include "cstrlib.h".
	(access(const string &, int), chdir(const string &): Move to 
	cstrlib.h.
	* Makefile.in: Regenerate.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc: Fix coding style.  Remove unused code.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc (HyperDocument::SetNumRow, HyperDocument::SetNumColumn):
	Remove.  (HyperDocument::ReInitFormat): Clear titleText.
	(HyperDocument::ProcessHypertext): Fix off-by-1 error setting
	titleText.
	* khdoc.h (HyperDocument::SetNumRow, HyperDocument::SetNumColumn):
	Remove.
	* khwin.cc (HyperWindow::GetDocRow, HyperWindow::GetDocColumn,
	HyperWindow::GetNumChar): New member functions.
	(HyperWindow::Init, HyperWindow::Highlight, 
	HyperWindow::PrepareDisplay, HyperWindow::MatchSubString,
	HyperWindow::DoResize, HyperWindow::FitHighlightMiddle,
	HyperWindow::ProcessKey): Adjust.
	* khwin.h (HyperWindow::GetDocRow, HyperWindow::GetDocColumn,
	HyperWindow::GetNumChar): Declare.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Remove extra grep.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.h (internal_error): Remove extra newline in message output.
	
	* gentree.c (CD): Remove unused code.

2000-03-09  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.h (internal_error): Add message parameter.
	(internal_error_message): New macro.

	* khdoc.cc (HyperDocument::SetNewRow, HyperDocument::SetNewColumn):
	New member functions.
	* khdoc.h (HyperDocument::numRow, HyperDocument::numColumn): Make
	member private.
	(HyperDocument::GetTitle, HyperDocument::GetAnchorList,
	HyperDocument::GetSectionList): Make constant member.
	(HyperDocument::GetNewRow, HyperDocument::GetNewColumn): New member
	functions.
	(HyperDocument::SetNewRow, HyperDocument::SetNewColumn): Declare.
	* khwin.cc (HyperWindow::Init, HyperWindow::PrepareDisplay,
	HyperWindow::MatchSubString, HyperWindow::DoResize,
	HyperWindow::FitHighlightMiddle, HyperWindow::ProcessKey): Adjust.
	
2000-03-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.h (HyperDocument::anchorList, HyperDocument::sectionList):
	Change type from sptr_list<Anchor> * to sptr_list<Anchor>.
	(HyperDocument::GetAnchorList, HyperDocument::GetSectionList): New
	member functions.
	* khdoc.cc (HyperDocument::Init, HyperDocument::ReInitFormat,
	HyperDocument::~HyperDocument, HyperDocument::ProcessA,
	HyperDocument::ProcessHypertext, HyperDocument::FormatDocument,
	HyperDocument::ReadATag, HyperDocument::FindLink, 
	HyperDocument::FindNextLink): Adjust.
	* khwin.h (HyperWindow::iterType): Use const_iterator.
	(HyperWindow::anchorSelected, HyperWindow::prevHighlight): Change
	type from Anchor * to const Anchor *.
	* khwin.cc (HyperWindow::Highlight(), HyperWindow::PrepareDisplay,
	HyperWindow::DoResize, HyperWindow::ProcessMouse, 
	HyperWindow::ProcessKey, khHyperWindowWithFind::FindText,
	khHyperWindowWithFind::FindPrev, khHyperWindowWithFind::FindNext):
	Adjust.
	* list.h (sptr::operator()() const, sptr::operator->() const,
	saptr::operator()() const, sptr::operator->() const): New member
	functions.
	(next_loop(const T &, T::const_iterator &), 
	prev_loop(const T &, T::const_iterator &)): New functions.

2000-03-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* buffer.h (Buffer::isAutoDelete): Change from int to bool.
	(Buffer::Buffer): Adjust.

2000-03-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gzfileio.cc (k_gzgetsu(gzFile, Buffer &)): Don't let exception
	escape this function upon end of file condition.

2000-03-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* setupcurses.h: Include config.h, <string>.

2000-03-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* setupcurses.h (my_waddstr, my_waddnstr): Move from ...
	* miscobj.h: ... here.

	* strmisc.cc (QuoteShellChars, QuoteURLChars(const char *)): Remove.
	* strmisc.h (QuoteShellChars): Remove.

2000-03-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* strmisc.cc: Move StrLast from ...
	* conffile.cc: ... here.
	* strmisc.h: Move StrLast declaration from ...
	* conffile.h: ... here.

	* khdoc.cc: Include gzfileio.h.
	(HyperDocument::HyperDocument(const char *), 
	HyperDocument::LoadDocument(const char *),
	HyperDocument::InternalLoadDocument(const char *): Change
	parameter from const char * to const string &.  Adjust.
	* khdoc.h: (HyperDocument::HyperDocument(const char *), 
	HyperDocument::LoadDocument(const char *),
	HyperDocument::InternalLoadDocument(const char *): Adjust
	declaration.

	* Makefile.in: Regenerate.

	* TODO: Update.

2000-03-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Return whether commit operation is aborted.
	* scripts/makepkg-release: Commit changes before creating tar ball.

2000-03-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Add entry for next version.
	* scripts/version: Bump version to 4.15.2.

2000-03-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update.

2000-03-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khyper.cc (HyperDocument::ProcessHypertext): Fix size of box 
	drawing entities.

	* khdoc.h (HyperDocument::titleText): Change from char * to string.
	(HyperDocument::numSection, HyperDocument::numGotoExec): Remove.
	(HyperDocument::GetTitle): New member function.
	* khdoc.cc (HyperDocument::Init, HyperDocument::ReInitFormat,
	HyperDocument::~HyperDocument, HyperDocument::ProcessA,
	HyperDocument::ProcessHypertext, HyperDocument::FindNextLink): 
	Adjust.
	* khwin.cc (HyperWindow::PrepareDisplay): Adjust.

2000-03-08  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Add entry for next version.
	* scripts/version: Bump version to 4.15.1.

2000-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* doc/kcd.sgml: Update.
	* doc/cmdsynopsis1.sgml, doc/cmdsynopsis2.sgml, 
	doc/cmdsynopsis3.sgml, doc/cmdsynopsis4.sgml: New file.
	* scripts/makepkg-real: Update.
	* FILELIST: Update.

	* pkgsrc/README.src: Update.
	* pkgsrc/kcd.1.src: Add --config option in synopsis.

2000-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/makepkg-real: Copy kcd.sgml from doc directory.

2000-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Fix errors.

2000-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/kcd.dtd.src: Use !VERSION! and !RELDATE! for rpcp.
	* pkgsrc/makepkg: Also set !VERSION! and !RELDATE! for rpcp.
	* pkgsrc/makepkg-real: Likewise.

2000-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Add pkgsrc/kcd.dtd.src, scripts/makelink, doc/kcd.dtd,
	doc/kcd.sgml.
	* scripts/makepkg-real: Likewise.  Stamp version and date after 
	copying other files.
	* scripts/makelink: New file.
	* doc/kcd.sgml: New file.

2000-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Detect removed files.

2000-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* version.cc: Removed.

2000-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/kcd.dtd.src: New file.

2000-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Fix new file detection.

2000-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Also commit when new files are detected.

2000-03-07  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (GenerateSymLinkHTML, RecursiveGenerateHTML): Use ISO
	entity names for line drawing characters.
	* khdoc.cc (HyperDocument::ProcessHypertext): Likewise.

2000-03-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* TODO: Update.

	* setupcurses.h: Add comments.
	* miscobj.h: Add comments.
	(my_waddstr, my_waddnstr): New functions.
	(Anchor): Remove copy constructor.
	* khdoc.cc (HyperDocument::ProcessLI): Use my_waddstr instead of
	wprintw.
	* statwin.cc (khStatusWindow::DrawStatusBar): Use my_waddstr and
	my_waddnstr instead of waddstr and waddnstr, respectively.
	(khURLWindow::DrawStatusBar): Likewise.  Use my_waddstr instead of
	wprintw.

2000-03-05  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* INSTALL: Clean up.
	* pkgsrc/README.src, pkgsrc/kcd.1.src: Update the list of 
	configuration files recognized by kcd.

2000-03-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* acconfig.h, dirobj.h, editbox.cc, editbox.h, error.cc, error.h, 
	gentree.cc, scandir.cc, scandir.h, seek.cc, seek.h, statwin.cc,
	statwin.h, strmisc.cc: Update copyright message.  Fix coding style.

2000-03-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* miscobj.cc, miscobj.h, scrnman.cc, scrnman.h, scroll.cc, scroll.h,
	strmisc.cc, strmisc.h: Update copyright message.  Fix coding style.

2000-03-03  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (FindSkipDir): Check for /dev and /proc here.
	(RecursiveFullScanDir, RecursiveSmartScanDir, PartialScanDir): 
	Not here.

2000-03-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Document /usr/etc/kcd.conf, /usr/local/etc/kcd.conf.

2000-03-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* khdoc.cc, khdoc.h, khwin.cc, khwin.h: Fix coding style.

2000-03-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (Help): Display help for -rp option.
	
	* pkgsrc/README.src, pkgsrc/kcd.1.src: Reorder option listing.

2000-03-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 4.15.0.

2000-03-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (RecursiveFindDir, FindDir(const string &, bool, bool),
	FindDir(const string &, bool=true)): Add honor_cfg parameter.
	(CD): Adjust.
	* gentree.h (FindDir(const string &, bool, bool),
	FindDir(const string &, bool=true)): Adjust declaration.
	* scandir.cc (PartialScanDir): Adjust.  Call chdir before scanning.
	Skip /dev and /proc here.

	* kcdmain.cc (mainReal): Throw exception in case of command line
	syntax error.

	* pkgsrc/NEWS.src, pkgsrc/README.src, pkgsrc/kcd.1.src: Update.

2000-03-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (FindSkipDir): Change return type to bool.
	(FindStartDir): New function.
	* scandir.h (FindSkipDir, FindStartDir): Declare.

2000-03-02  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (numMatch, maxLength, matchList): Remove.
	(MatchInfo): New struct.
	(RecursiveFindMatchDir, FindMatchDir): Add new list<MatchInfo> 
	parameter.  Adjust.
	(GenerateDirListHTML, CD): Adjust.

	* error.h (ErrorGenericCommandLine): New class.
	* gentree.cc (RecursiveFindDir): Change return type to FindDirInfo.
	(FindDir): Change return type to FindDirInfo.  Add change_sub
	parameter.  Rename parameter change to change_top.  Remove default 
	argument for change_top.
	(FindDir(const string &, bool=true)): New function.
	* gentree.h (FindDirInfo): New struct.
	(FindDir(const string &, bool=true), 
	FindDir(const string &, bool, bool)): Adjust declarations.

	* kcdmain.cc (mainReal): Process -rp option.  Use new ScanDir 
	function.
	* scandir.cc (SmartScanDir): Use SCAN_MODE_SMART instead of
	SCAN_MODE_PARTIAL.
	(PartialScanDir(ScanLog &, const string &, bool), 
	PartialScanDir(const string &, bool), ScanDir(bool)): New functions.
	* scandir.h (PartialScanDir(const string &, bool), ScanDir(bool)): 
	Declare.

2000-03-01  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (Help, HelpInst): Use upper case for the string to be
	substituted in the command line.

2000-02-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* kcdmain.cc (mainReal): Multiple rescanning options can be 
	combined together.
	* pkgsrc/README.src, pkgsrc/kcd.1.src, pkgsrc/NEWS.src: Update.

2000-02-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (ResolveSymLink): Reorganize code.

2000-02-29  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (RecursiveGenerateHTML): Remove redundant code.

2000-02-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Add entry for next version.
	* scripts/version: Bump version to 4.14.1.

2000-02-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* statwin.cc: Update copyright message.  Fix programming style.
	(DrawStatusBarHelper): New function.
	(khStatusWindow::DrawStatusBar): Declare i inside for initializer.
	(khURLWindow::DrawStatusBar): Declare i inside for initializer.
	Use DrawStatusBarHelper.
	(khURLWindowWithFind::DrawStatusBar): Likewise.
	(khStatusWindowWithFind::DrawStatusBar): Likewise.
	* statwin.h: Update copyright message.

	* version.cc: Bump version number to 4.14.0.

2000-02-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc: Add comments.
	(PrintTime): Remove.

2000-02-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.h: Include <iostream.h> here.
	(ScanLog, CommandLineScanLog): New classes.
	* scandir.cc: Don't include <iostream.h> here.
	(CommandLineScanLog::PrintTime, 
	CommandLineScanLog::PrintStartDirNotFound): New functions.
	(ExpandSymLink): Add ScanLog parameter.  Use it.
	(RecursiveFullScanDir, FullScanDir, RecursiveSmartScanDir, 
	SmartScanDir): Likewise.
	(SmartScanDir(), FullScanDir()): New functions.

2000-02-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (LoadDirHeader): Remove test code.

2000-02-28  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (GenerateSymLinkHTML, GenerateDirHTML): New functions
	from RecursiveGenerateHTML and GenerateHTML.
	(RecursiveGenerateHTML, GenerateHTML): Adjust.

	* gentree.cc (GenerateHTML): Change first from int to bool.  
	Use DirectoryEntry::GetNameStr instead of DirectoryEntry::GetName.
	(RecursiveGenerateHTML): Use DirectoryEntry::GetNameStr instead of 
	DirectoryEntry::GetName.
	(RecursiveFindMatchDir, FindMatchDir, RecursiveFindDir, FindDir):
	Likewise.
	* scandir.cc (RecursiveResolveSymLink, RecursiveSmartScanDir,
	SmartScanDir): Likewise.

	* TODO: Update.

2000-02-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (CD): Call FindDir only if saveCwd is not NULL.

2000-02-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (currentDir, findDirText): Remove.
	(RecursiveGenerateHTML, GenerateHTML, RecursiveFindMatchDir, 
	FindMatchDir):  Change parameters from char * to const string &.
	Use C++ string library functions.  Don't use the global currentDir 
	variable.
	* gentree.h (currentDir): Remove.

	* gentree.cc (ExpandEscape, barStack, htmlRow, htmlCol, curCol, 
	RecursiveGenerateHTML, numMatch, maxLength, GenerateDirListHTML): 
	Use size_t instead of int or unsigned.

	* gentree.cc (FindDir): Reorganize code.

	* seek.h: Update copyright message.

2000-02-26  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (saveCwdLen): Remove.
	(ExtendTree): Change parameter from char * to const string &.
	Use C++ string library functions.
	(RecursiveFindDir): Change parameters from char * to const string &.
	Use C++ string library functions.  Don't use the global currentDir 
	variable.  Remove dead code.  Fix comments.
	(FindDir): Likewise.  Don't check whether str is NULL.
	* gentree.h (FindDir): Update declaration.

2000-02-23  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* ad.append (distclean): Remove core and backup files here ...
	(maintainerclean): ... rather than here.  Do not use hard-coded
	version number for spec file.  Remove documents in srcdir.
	(install): Fix logic whether man page should be gzipped.
	(installdoc): Remove duplicate README copying.  Also copy TODO.
	* Makefile.in: Regenerate.
	* pkgsrc/spec.src: Remove duplicate README.

	* conffile.cc (StrLast): Fix variable update bug.
	(fnmatch(const string &, const string &)): Remove c_str().
	* gentree.cc (CD): Remove c_str().

	* conffile.cc (LoadAllConfig): Switch order of configuration file
	loading.
	* pkgsrc/NEWS.src: Update.

	* kcdmain.cc: Remove to do list.
	* khwin.cc: Update to do list.
	* TODO: Update.

	* scripts/version: Bump version to 4.14.0.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* error.cc (errNoNewLine, errprintf): Remove.
	(errdumpbytes): Remove commented out code.
	* error.h (errNoNewLine, errprintf): Remove.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gentree.cc (currentDir, saveCwd): Move from...
	* scandir.cc: ...here.
	* gentree.h (currentDir, saveCwd): Move from...
	* scandir.h: ...here.

	* gentree.h: Add include guard.  Include config.h, dirobj.h.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (FullScanDir, SmartScanDir): Don't add trailing slash
	here.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (RecursiveResolveSymLink): Rename parent_dir to 
	current_dir and current_dir to new_dir.
	(RecursiveFullScanDir): Fix coding style.
	(RecursiveSmartScanDir): Change the second parameter to string.
	Don't use global variable currentDir.  Fix coding style.
	(SmartScanDir): Adjust RecursiveSmartScanDir function call.
	Don't use global variable currentDir.  Fix coding style.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (RecursiveFullScanDir): Change the second parameter to
	string.  Don't use global variable currentDir.
	(FullScanDir): Adjust RecursiveFullScanDir function call.
	Don't use global variable currentDir.
	(RecursiveSmartScanDir): Adjust RecursiveFullScanDir function call.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.cc: Fix coding style.
	(DirectoryEntry::DirectoryEntry(const string &)): New constructor.
	* dirobj.h (DirectoryEntry::DirectoryEntry(const string &)): 
	Declare.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* dirobj.h (access(const string &,int), chdir(const string &)): 
	New functions.
	* scandir.cc (ResolveSymLink): Add current_dir parameter.  Don't
	use global variable currentDir.  Remove saveCurDir.  Tidy logic.
	(RecursiveResolveSymLink): Add parent_dir parameter.  Don't use
	global variable currentDir.  Append trailing slash before recursion.
	(ExpandSymLink): Don't use global variable currentDir.  Pass 
	parent_dir parameter to RecursiveResolveSymLink.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scandir.cc (RecursiveMarkSymLinkUninit): Remove.
	(ResolveSymLink): Don't check whether symbolic link is initialized.
	(ExpandSymLink): Don't use RecursiveMarkSymLinkUninit.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Add entry for the next version.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/version: Bump version number to 4.13.1.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Add comments.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Display cvs diff output before abort.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: More no changes test fix.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Fix no changes test.

2000-02-17  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* scripts/commit: Use "$@" instead of $*.  Abort early if there is
	no changes.
	* TODO: Update.

2000-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Update autodep download location.

2000-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/NEWS.src: Update autodep download location.
	* pkgsrc/spec.src: Update download location.

2000-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* version.cc: Regenerate.

2000-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* conffile.cc (ReadDirFileConfig): Change return type to void.
	* conffile.h (ReadDirFileConfig): Likewise.

	* error.h (ErrorBadFileFormat, ErrorFileConfigChanged): New classes.
	* scandir.cc (LoadDirHeader): Change return type to void.  Throw 
	ErrorBadFileFormat exception in case of error.  Check size of mode_t 
	and size_t.
	(LoadDirFile): Catch exceptions thrown by LoadDirHeader and gz_*
	functions.
	(WriteDirFile): Store size of mode_t and size_t.  Catch exceptions
	thrown by gz_* functions.

	* scandir.cc (FullScanDir): Flush cout before displaying error.

	* TODO: Update.

2000-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* pkgsrc/README.src: Update.
	* pkgsrc/kcd.1.src: Likewise.

2000-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* gzfileio.h (k_gzputT, k_gzgetT): Use reinterpret_cast.

2000-02-15  Kriang Lerdsuwanakij <lerdsuwa@users.sourceforge.net>

	* FILELIST: Update autodep URL.
	* Makefile.inst, Makefile.userinst, Makefile.userinst2, acconfig.h,
	ad.prepend, buffer.cc, buffer.h, conffile.cc, conffile.h, 
	configure.in, cxxlib.cc, cxxlib.h, dirobj.cc, dirobj.h, editbox.cc,
	editbox.h, error.cc, error.h, gentree.cc, gentree.h, gzfileio.cc,
	gcfileio.h, kcdmain.cc, khdoc.cc, khdoc.h, khwin.cc, khwin.h,
	list.cc, list.h, miscobj.cc, miscobj.h, scandir.cc, scandir.h,
	scrnman.cc, scrnman.h, scroll.cc, scroll.h, seek.cc, seek.h,
	setupcurses.h, statwin.cc, statwin.h, strmisc.cc, strmisc.h,
	aclocal/cxxac.m4, aclocal/ncurses.m4, aclocal/zlib.m4,
	scripts/commit, scripts/commit-template, scripts/makepkg,
	scripts/makepkg-real, scripts/makepkg-release, scripts/miscout,
	scripts/rpcp, scripts/uglyboolhack.pl: Update email address.
	* Makefile.in, aclocal.m4, configure: Regenerate.
	* pkgsrc/README.src, pkgsrc/kcd.1.src, pkgsrc/lsm.src, 
	pkgsrc/spec.src: Update home page and email address.
	* pkgsrc/NEWS.src: Update.

2000-02-13  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/commit: Add blank lines to ChangeLog header. 

2000-02-13  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/makepkg: Remove temporary directories.
	* scripts/makepkg-release: Likewise.

2000-02-13  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* pkgsrc/spec.src: Do not create /etc/zprofile in build root.

2000-02-13  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/miscout: Use /usr/bin/env.

2000-02-13  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scandir.cc (LoadDirFile): Fix comment.

	* scripts/rpcp: Use /usr/bin/env.
	* scripts/makepkg: Add username to BUILD_DIR.
	* scripts/makepkg-release: Likewise.

	* scripts/commit-template: Change format.
	* scripts/commit: Add username to temporary filenames.
	Use new commit-template format to generate ChangeLog header.

2000-02-08  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* gzfileio.cc (k_gzread, k_gzwrite): New functions.
	(k_gzputc, k_gzgetc, k_gzputsu, k_gzgetsu, k_gzputs, k_gzgets):
	Report error via exception handling.
	* gzfileio.h (k_gzread, k_gzwrite): Declare.
	(k_gzputT, k_gzgetT): Report error via exception handling.
	(k_gzputc, k_gzgetc, k_gzputsu, k_gzgetsu, k_gzputs, k_gzgets):
	Update prototype.

2000-02-08  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* error.h (ErrorConfigChange, ErrorGZIO): New classes.
	* gzfileio.h: Include error.h.
	* Makefile.in: Regenerate.

2000-02-08  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* gentree.cc (RecursiveGenerateHTML): Fix coding style.

	* scandir.cc (LoadDirHeader): Update file format.
	Use ReadDirFileConfig.
	(WriteDirFile): Update file format.  Use WriteDirFileConfig.

2000-02-08  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* conffile.cc (ReadDirFileConfig, WriteDirFileConfig): New 
	functions.
	* conffile.h: Include gzfileio.h.
	(ReadDirFileConfig, WriteDirFileConfig): Declare.
	* Makefile.in: Regenerate.

2000-02-08  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* TODO: Update.

2000-01-28  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scandir.cc (ReadSaveFile): Move scan time reading code to ...
	(LoadDirHeader): ... here.
	(WriteDirFile): Write scan time before end of parameters.

	* scandir.cc (RecursiveResolveSymLink): Update directory length
	correctly.

2000-01-28  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scandir.cc (RecursiveMarkSymLinkUninit): Change parameter to
	sptr_list<DirectoryEntry> &.
	(RecursiveResolveSymLink): Likewise.  Reorganize code.
	(ResolveSymLink): Update comment.
	(ExpandSymLink): Remove unused variable.  Update comment.

2000-01-28  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scandir.cc (PrintTime): Simplified.
	(ReadSaveFile, operator<(DirectoryEntry &, DirectoryEntry&)),
	LoadDirHeader, LoadDirFile) : Adjust coding style.
	Update comment.
	(RecursiveMarkSymLinkUninit, RecursiveResolveSymLink, 
	ExpandSymLink): Remove commented out code.

	* scandir.cc (RecursiveResolveSymLink): Handle when d == dirTree.
	(ExpandSymLink): Simplified.

2000-01-28  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* gentree.cc (FindDir): Remove default argument.
	(CD): Adjust.
	* gentree.h (FindDir): Declare.
	* scandir.cc: Include gentree.h.
	(FindDir): Remove declaration.
	(FindSkipDir): Honor options in DirConfig.

2000-01-28  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* gentree.cc (ExtendTree): Simplified.

2000-01-28  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* gentree.cc (barStack): Use vector<int> instead of array.
	(inBarStack): Remove.
	(RecursiveGenerateHTML): Adjust.

2000-01-28  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* cxxlib.cc: Add to CVS.
	* cxxlib.h: Likewise.
	* scripts/rpcp: Likewise.
	* scripts/version: Likewise.
	* version.cc: Regenerate.

2000-01-28  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* conffile.h (DirConfig): New struct.
	(DirList, DirItem): New typedef.
	(KcdConfig): Use DirList.
	* conffile.cc (operator==(const DirConfig&, const DirConfig&): 
	New function.
	(KcdConfig::KcdConfig, IsPatternMatch::operator(), ConfigYesNo,
	PrintYesNo, ConfigUnsigned, PrintUnsigned, ConfigStringList,
	PrintStringList, ConfigClearStringList, ConfigInfo, LoadConfig): 
	Use DirList.
	* scandir.cc (FindSkipDir, FullScanDir): Likewise.

	* scandir.cc (ResolveSymLink): Use saptr.

	* conffile.cc (LoadConfig): Warn on old-style SkipDir syntax.
	* pkgsrc/NEWS.src: Update.

2000-01-27  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* gentree.h: New file.
	* gentree.cc: New file.
	* kcdmain.cc: Do not include seek.h, miscobj.h, buffer,h, gzfileio.h
	dirobj.h, khwin.h.  Include gentree.h.
	(monthName, ExpandEscape, barStack, inBarStack, htmlRow, htmlCol,
	curCol, NewLineUpdateRowCol, RecursiveGenerateHTMLL, GenerateHTML,
	numMatch, maxLength, findDirNext, matchList, RecursiveFindMatchDir,
	FindMatchDir, GenerateDirListHTML, saveCwdLen, ExpandTree, 
	RecursiveFindDir, FindDir, CD): Move to gentree.cc.

	* scripts/makepkg-real: Update.
	* FILELIST: Update.
	* ad.rule: Update.
	* Makefile.in: Regenerate.

	* TODO: Update.

2000-01-27  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* pkgsrc/CHANGES.src: Rename to NEWS.src.
	* pkgsrc/README.src: Update.
	* pkgsrc/spec.src: Update.
	* scripts/makepkg-real: Update.
	* FILELIST: Update.
	* ad.append: Update.
	* Makefile.in: Regenerate.

2000-01-27  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/commit: Add ChangeLog to list of file to commit if
	argment is given.

2000-01-27  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* buffer.cc: Update copyright.  Adjust coding style.
	* buffer.h: Likewise.
	* conffile.cc: Likewise.
	* conffile.h: Likewise.
	* setupcurses.h: Likewise.

	* conffile.cc: Remove test code.

	* khwin.cc: Update copyright.
	(khScreenManager::khScreenManager): Use new-style cast.

	* TODO: Update.

2000-01-26  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scandir.cc (FullScanDir): Unquote entries in kcdConfig.cfgStartDir
	before use.

	* TODO: Update.

2000-01-26  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* TODO: Update.
	* pkgsrc/CHANGES.src: Update.

2000-01-26  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* conffile.cc: Include <fnmatch.h>.
	(ExpandDirectory): Add new parameter.  Allow `*', `?', `[', `\' at 
	the beginning of directory name.
	(fnmatch(const string &, const string &,int),
	fnmatch(const string &, const string &): New functions.
	(IsPatternMatch): New class.
	(ConfigStringList): Do not unquote shell characters here.
	(ConfigClearStringList): Likewise.  Use IsPatternMatch.
	* conffile.h (ExpandDirectory): Add new parameter.
	(fnmatch(const string &, const string &,int),
	fnmatch(const string &, const string &): Declare.

	* scandir.cc (FindSkipDir): Change parameter from const char * to
	const string &.  Use new fnmatch.

	* strmisc.cc: Update copyright.
	(charNeedGlobQuote): New variable.
	(UnquoteShellChars): Change parameter from const char * to
	const string &.
	(QuoteGlobChars): New function.
	* strmisc.h (UnquoteShellChars): Adjust.
	(QuoteGlobChars): Declare.

	* TODO: Update.
	* pkgsrc/CHANGES.src: Update.
	* pkgsrc/README.src: Update.
	* pkgsrc/kcd.1.src: Update.

2000-01-26  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* conffile.h (KcdConfig): Add cfgGlobDot, cfgGlobPath.
	* conffile.cc (KcdConfig::KcdConfig): Likewise.
	(NUM_CONFIG_INFO, configInfo): Adjust.

	* conffile.cc (FindSkipDir): Move to scandir.cc.
	* conffile.h (FindSkipDir): Remove declaration.
	* scandir.cc: Include <fnmatch.h>.
	(FindSkipDir): Use fnmatch.

	* scandir.cc (uniqueTag): Add const.
	(endianTest): New variable.
	(LoadDirHeader): New function.
	(LoadDirFile): Use it.
	(WriteDirFile): Write endianTest.

	* CHANGES: Update.
	* TODO: Update.
	* pkgsrc/README.src: Update.

2000-01-25  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* conffile.cc (KcdConfig::KcdConfig): Initialize cfgSkipDir, 
	cfgStartDir.
	(KcdConfig::~KcdConfig, KcdConfig::SetScanMode): New functions.
	* conffile.h (SCAN_MODE_FULL, SCAN_MODE_SMART, SCAN_MODE_PARTIAL): 
	New macros.
	(KcdConfig::~KcdConfig, KcdConfig::SetScanMode): Declare.
	* kcdmain.cc (makeReal): Do not initialize cfgSkipDir, cfgStartDir
	here.
	* scandir.cc (FullScanDir, SmartScanDir): Use KcdConfig::SetScanMode.
	
	* gzfileio.cc (k_gzprintf): Remove.
	* gzfileio.h (k_gzprintf): Remove.
	(k_gzputsu): Do not use zlib gzputs function.

	* configure.in: Remove ZLIBAC_GZ_FUNC.
	* configure: Regenerate.
	* config.h.in: Regenerate.
	* Makefile.in: Regenerate.

2000-01-24  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* conffile.h (cfgQuietFull, cfgQuietSmart, cfgQuietPartial,
	cfgAutoScan, cfgQuiet, cfgSpaceSelect, cfgSortTree, 
	cfgCaseSensitiveSort, cfgShowListThreshold, cfgGraphicChar,
	cfgScrollBar, cfgSkipDir, cfgStartDir): Wrap inside class KcdConfig.
	(kcdConfig): Declare.
	* conffile.cc (FindSkipDir, ConfigStringList, configInfo, 
	LoadConfig): Adjust.
	* kcdmain.cc (ExtendTree, RecursiveFindDir, FindDir, CD, mainReal):
	Likewise.
	* scandir.h: Add to CVS.
	* scandir.cc: Likewise.

2000-01-24  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* kcdmain.cc (uniqureTag, currentDir, dirUpdated, saveCwd, 
	PrintTime, dirTree, operator < (DirectoryEntry &, DirectoryEntry &),
	LoadDirFile, WriteDirFile, RecursiveMarkSymLinkUninit,
	ResolveSymLink, RecursiveResolveSymLink, ExpandSymLink, scanTime,
	scanTime2, RecursiveFullScanDir, FullScanDir, hit, miss, 
	IsDirFlagCleared, SetDirFlag, RecursiveSmartScanDir, SmartScanDir,
	ReadSaveFile): Move to scandir.cc.
	(GenerateHTML, GenerateDirListHTML): Use local scanTime, scanTime2.
	* scandir.cc: New file.
	* scandir.h: New file.

	* FILELIST: Add scandir.cc, scandir.h.
	* ad.rule: Add scandir.cc.
	* scripts/makepkg-real: Add scandir.cc, scandir.h
	* Makefile.in: Regenerate.

	* khdoc.cc (CheckString): Simplify to use string class.
	(HyperDocument::FindNextLink): Update.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* aclocal/cxxac.m4: Add CXXAC_STRING_IO.  Update copyright.
	* acconfig.h: Update.
	* aclocal.m4: Regenerate.
	* configure.in: Add CXXAC_STRING_IO test.
	* configure: Regenerate.

	* cxxlib.h: New file.
	* cxxlib.cc: Likewise.
	* conffile.cc: Include cxxlib.h.  Get rid of a .c_str().
	* kcdmain.cc (kcd_new_handler): Move to cxxlib.cc
	* FILELIST: Add cxxlib.cc, cxxlib.h.
	* ad.rule: Likewise.
	* scripts/makepkg-real: Likewise.
	* Makefile.in: Regenerate.

	* config.h.bot: Define bad_alloc instead of kcd_bad_alloc if
	bad_alloc is not available.
	* config.h.in: Regenerate.

	* TODO: Update.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* dirobj.cc (Directory::gzWriteInfo): New function.
	(Directory::gzWrite): Use it.
	* dirobj.h (Directory::gzWriteInfo): Declare.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* dirobj.cc: Update copyright.
	* error.h: Likewise.
	* khdoc.h: Likewise.
	* setupcurses.h: Likewise.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* gzfileio.h (k_gzputc, k_gzgetc, k_gzputT, k_gzgetT, k_gzputsu,
	k_gzgetsu, k_gzputs, k_gzgets): Swap argument order.
	* gzfileio.cc (k_gzputc, k_gzgetc, k_gzputT, k_gzgetT, k_gzputsu,
	k_gzgetsu, k_gzputs, k_gzgets): Likewise.  Use gzeof().
	* dirobj.cc (DirectoryEntry::DirectoryEntry(gzFile, char),
	DirectoryEntry::gzWrite): Update.  Convert some k_gzputT,
	k_gzgetT to k_gzputc, k_gzgetc.
	* kcdmain.cc (LoadDirFile, WriteDirFile, ReadSaveFile): Likewise.

	* gzfileio.h (k_gzputsu): Use zlib's gzputs if available.

	* kcdmain.cc (uniqueTag): Bump ID number.
	* dirobj.cc (DirectoryEntry::DirectoryEntry(gzFile, char),
	DirectoryEntry::gzWrite): Read/write all data for current
	directory before its subdirectories.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* gzfileio.h (k_gzputsu, k_gzgetsu): Rename from k_gzputs, k_gzgets.
	(k_gzputs, k_gzgets): Rename from k_gzputsz, k_gzgetsz.
	* gzfileio.cc (k_gzputsu, k_gzgetsu): Likewise.
	* dirobj.cc (DirectoryEntry::DirectoryEntry(gzFile, char),
	DirectoryEntry::gzWrite): Update.
	* kcdmain.cc (LoadDirFile, WriteDirFile): Likewise.

	* gzfileio.h (k_gzputT, k_gzgetT): Change return value.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* aclocal/zlib.m4 (ZLIBAC_GZ_FUNC): New test.
	* configure.in: Use it.
	* aclocal.m4: Regenerate.
	* configure: Regenerate.

	* acconfig.h: Add new macros.
	* config.h.in: Regenerate.

	* gzfileio.cc: Update copyright.  Do not compile in k_gzprintf
	if gzprintf exists in zlib.
	* gzfileio.h: Update copyright.  Conditionally define 
	k_gzprintf as gzprintf.

	* kcdmain.cc: Update comment.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* ad.append: Remove some rules.
	* Makefile.in: Regenerate.

	* TODO: Update.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* FILELIST: Add aclocal/*.
	* makepkg-real: Likewise.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* aclocal/cxxac.m4: Update copyright.
	* aclocal/zlib.m4: Add extern "C" test.
	* aclocal/ncurses.m4: Move mousemake, get_attr/set_attr
	test from configure.in.  Cache test results.  Update
	macros defined and variables set.
	* aclocal.m4: Regenerate.
	* configure.in: Use aclocal/*.m4.
	* configure: Regenerate.

	* acconfig.h: Update macro names.
	* config.h.in: Regenerate.

	* gzfileio.h: Use zlib extern "C" test.
	* khdoc.h: Likewise.
	* setupcurses.h: Use new macros

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* ad.append: Add development rules.
	* Makefile.in: Regenerate.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* aclocal/cxxac.m4: Move content from aclocal.m4.
	* aclocal/ncurses.m4: Move test from configure.in.
	* aclocal/zlib.m4: New file.
	* aclocal.m4: Regenerate.
	* configure.in: Use aclocal/ncurses.m4 macro.

	* TODO: Update.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* error.h: Update copyright.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/commit: Add option -cp to cvs diff.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* conffile.cc (StrLast): Convert int to string::size_type.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* error.h (tempStr): Declare.

	* conffile.cc (PrintStringList): Handle when the list is empty.
	(LoadConfig): Use getline instead of operator >> for input.

	* Makefile.in: Regenerate.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* conffile.cc (LoadConfig): Remove dead code.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* conffile.cc (ConfigClearStringList): New function.
	(NUM_CONFIG_INFO, configInfo): Add ClearStartDir and 
	ClearSkipDir.

2000-01-22  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* conffile.cc (ReadUnsigned): Rearrange code.  Check for numerical 
	overflow.
	(ConfigYesNo, PrintYesNo, ConfigUnsigned, PrintUnsigned,
	ConfigStringList, PrintStringList): New functions.
	(ConfigYN, NUM_CONFIGYN, configYN): Remove.
	(ConfigInfo, NUM_CONFIG_INFO, configInfo): New.
	(LoadConfig, PrintConfig): Use new functions and data structures.

2000-01-21  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* kcdmain.cc (FindSkipDir, ReadLine, PrintErrorCommand, 
	PrintErrorMessage, ExtraChar, InvalidValue, EqualNotFound,
	QuoteNotFound, YesNoNotFound, NumberRequired, IsYesNo,
	ReadUnsigned, ConfigYN, NUM_CONFIGYN, configYN, LoadConfig,
	LoadAllConfig, PrintConfig): Move to ...
	* conffile.cc: ... here.
	* conffile.h (confLocalFile, FindSkipDir, LoadConfig,
	LoadAllConfig, PrintConfig): Declare.

2000-01-21  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* kcdmain.cc (cfg*, StrLast, ExpandDirectory): Move to 
	conffile.cc.
	* conffile.h: New file.
	* conffile.cc: Likewise.  
	* conffile.cc ()Fix variable type 

	* FILELIST: Add conffile.cc, conffile.h.
	* scripts/makepkg-real: Likewise.
	* ad.rule: Add conffile.cc.

	* Makefile.in: Regenerate.

	* conffile.cc (ExpandDirectory): Change variable type that
	holds string::find() result from unsigned to string::size_type.

2000-01-21  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* kcdmain.cc (expandBuffer): Remove.
	(StrLast(const char *, const char *): Remove.

	* pkgsrc/spec.src: Fix RPM_BUILD_ROOT check.

	* scripts/makepkg: Make prerelease version name compatible
	with RPM.

2000-01-20  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* FILELIST, RPM: Update.
	* spec.src: Update Source, URL tags.
	Install TODO documentation.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* ad.rule: Exclude ./curses.h from dependency rules.
	* Makefile.in: Regenerate.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* ad.append: Delete CHANGES, README, kcd-*.spec, kcd.1 and
	version.cc in maintainerclean target.
	* Makefile.in: Regenerate.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/makepkg-real: Copy scripts/makepkg-real, 
	scripts/miscout.

	* RELEASE: Remove.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/makepkg-real: Add scripts/dircheck.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/makepkg-real: New file.
	* scripts/makepkg, scripts/makepkg-release: Fix base directory 
	in .tar.gz file generation.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/dircheck: New file.
	* scripts/commit, scripts/makepkg, scripts/makepkg-release: Use it.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/makepkg-real, scripts/makepkg-release, scripts/miscout: 
	New files.
	scripts/makepkg: Finish the script.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/commit, scripts/makepkg, scripts/uglyboolhack.pl:
	Add copyright message.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/commit: Remove backup files created by editor.

	* Makefile, NCURSES, ad.targetmap, adddep, config.h, copy, copy.ver,
	poolupd, release: Remove.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* Makefile.ad: Remove

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/commit: Accept list of files to commit.

	* version.cc: Add to CVS.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* pkgsrc/version.cc.src: Move from `scripts' directory.
	pkgsrc/CHANGES.src, pkgsrc/README.src, pkgsrc/kcd.1.src,
	pkgsrc/lsm.src, pkgsrc/spec.src: Move from package root directory.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* FAQ, SIZE, copy2, m, m2: Removed.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* spec.src: Remove /etc/profile.d/kcd.zsh.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* kcdmain.cc (version, relDate): Move to version.cc.
	scripts/version.cc.src: New file.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* scripts/commit: Update ChangeLog automatically.

2000-01-19  Kriang Lerdsuwanakij <lerdsuwa@scf.usc.edu>

	* ChangeLog, scripts/README, scripts/commit, scripts/commit-template:
	New files.

